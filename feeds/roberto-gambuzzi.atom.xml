<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Frammenti di codice</title><link href="http://blog.gambuzzi.it/" rel="alternate"></link><link href="http://blog.gambuzzi.it/feeds/roberto-gambuzzi.atom.xml" rel="self"></link><id>http://blog.gambuzzi.it/</id><updated>2015-01-21T00:00:00+01:00</updated><entry><title>Schema in un db schemaless (come progettare le tabelle di MongoDB)</title><link href="http://blog.gambuzzi.it/schema-in-un-db-schemaless-come-progettare-le-tabelle-di-mongodb.html" rel="alternate"></link><updated>2015-01-21T00:00:00+01:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2015-01-21:schema-in-un-db-schemaless-come-progettare-le-tabelle-di-mongodb.html</id><summary type="html">&lt;p&gt;Nonostante il singolo record( o meglio &lt;em&gt;documento&lt;/em&gt;) di MongoDB sia schemaless, per comodità applicativa ovviamente si dividono i documenti in collections, più o meno omogenee come tracciato. Il vantaggio dell'essere schemaless si ha quando si vuole aggiungere un campo che non si era previsto o quando si vuolo "embeddare" altri documenti o oggetti come array.&lt;/p&gt;
&lt;p&gt;Come strutturare quindi il proprio domino di dati con MongoDB?&lt;/p&gt;
&lt;p&gt;Due regole molto generali, ma che vi possono aiutare moltissimo sono:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;se state strutturando le tabelle come fareste su un db relazionale, state sbagliando.&lt;/li&gt;
&lt;li&gt;strutturate i dati in funzione di come li accederete dalla applicazione; esempio: se avete due collections &lt;code&gt;studenti&lt;/code&gt; e &lt;code&gt;professori&lt;/code&gt;, la relazione può essere sia dalla studente al professore, sia viceversa. Ha senso mettere il riferimento su una o sull'altra (o su tutte e due) in funzione di come l'applicazione cerca i dati. Se dalla scheda dello studente (in interfaccia) si deve saltare al professore e mai viceversa si metterà la relazione sullo studente.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Vediamo con ordine come &lt;em&gt;tradurre&lt;/em&gt; le relazioni che incontriamo in un tradizionale DB relazione in qualcosa di più adatto a MongoDB (e alla vostra applicazione):&lt;/p&gt;
&lt;h2&gt;Relazioni 1 a 1&lt;/h2&gt;
&lt;p&gt;In un db relazione questo tipo di relazione ha già poco senso, nel senso che basterebbe aggiungere colonne ad una tabella già esistente, anziché farne una altra in relazione 1a1.&lt;/p&gt;
&lt;p&gt;In MongoDb gli unici due motivi per dividere in pratica un documento/record in 2 diverse collections possono essere:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Il singolo documento supera i 16MB, limite del BSON usato da MongoDB;&lt;/li&gt;
&lt;li&gt;Parte del documento che si vuole accedere non serve con la stessa frequenza del resto e rischia di appesantire il recupero del documento dal db.&lt;ul&gt;
&lt;li&gt;Esempio: abbiamo il catalogo di un ecommerce, che nel singolo documento, che rappresenta il singolo prodotto, contiene (in pdf) anche la pagina del catalogo cartaceo in cui compare e magari qualche software (come un driver). &lt;em&gt;Qui&lt;/em&gt; conviene separare gli attributi del prodotto in 2 categorie; gli attributi (che si spera siano di piccole dimensioni) che servono in galleria prodotto, che saranno sempre caricati e potranno essere usati per gli ordinamenti, e gli attributi &lt;em&gt;extra&lt;/em&gt;, che renderebbero lento il caricamento in galleria, ma che servono in visualizzazione della scheda dettagli del prodotto.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Anche qui la logica della vostra applicazione influisce sulla struttura dei dati.&lt;/p&gt;
&lt;p&gt;A differenza di quanto ci hanno sempre insegnato coi DB relazionali, il db &lt;em&gt;NON&lt;/em&gt; deve essere agnostico rispetto alla applicazione da implementare, nemmeno alla sua interfaccia. Se 2 diversi dati non vengono mai visualizzati nella stessa pagina/schermata, è inutile tenerli nello stesso documento o, addirittura, metterli in relazione.&lt;/p&gt;
&lt;h2&gt;Relazioni 1 a N&lt;/h2&gt;
&lt;p&gt;Anche qui dobbiamo ragionare in funzione di come i dati verranno visualizzati e aggiornati.
Ipotizziamo un articolo di un blog, commenti e tag.
Sui commenti dei singoli articoli, difficilmente faremo accessi singolarmente; non ci sarà una pagina con l'elenco di tutti i commenti.
I commenti verranno con buona probabilità visualizzati &lt;em&gt;solo&lt;/em&gt; insieme all'articolo a cui sarebbero in relazione 1 a N. Inoltre difficilmente supereremo i 16MB fra articolo e commenti.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Quindi&lt;/em&gt; i commenti possono essere embeddati come sottodocumento nell'articolo&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;articolo&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nx"&gt;_id&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;ObjectId&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;54bc49638379934d5de98d7d&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="nx"&gt;titolo&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Schema in un db schemaless (come progettare le tabelle di MongoDB)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nx"&gt;corpo&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Nonostante il singolo record di MongoDB ...&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nx"&gt;commenti&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[{&lt;/span&gt;
        &lt;span class="nx"&gt;autore&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Anonimo veneziano&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="nx"&gt;email&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;none@example.com&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="nx"&gt;commento&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;non sono concorde...&amp;quot;&lt;/span&gt;
      &lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nx"&gt;autore&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Anonimo veneziano&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="nx"&gt;email&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;none@example.com&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="nx"&gt;commento&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;continuo a non essere concorde...&amp;quot;&lt;/span&gt;
      &lt;span class="p"&gt;}],&lt;/span&gt;
    &lt;span class="nx"&gt;tags&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;mix&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;mongodb&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;db&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Vedremo poi come comportarci coi &lt;em&gt;tags&lt;/em&gt; che sono in relazione "N a M"&lt;/p&gt;
&lt;p&gt;Riassumendo si può precedere ad "embeddare" i documenti relazionati in "1 a N" quando:
&lt;em&gt; i documenti non superano 16MB (compreso documento principale).
&lt;/em&gt; i documenti sono acceduti sempre assieme al documento principale.&lt;/p&gt;
&lt;p&gt;Negli altri casi si procede, come faremmo con un normale db relazionale, a mettere l'object_id dell'articolo come valore del commento&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;commento&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nx"&gt;_id&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;ObjectId&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;a4bc49a53279934d5de98231&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
        &lt;span class="nx"&gt;autore&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Anonimo veneziano&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="nx"&gt;email&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;none@example.com&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="nx"&gt;commento&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;non sono concorde...&amp;quot;&lt;/span&gt;
        &lt;span class="nx"&gt;articolo&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;ObjectId&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;54bc49638379934d5de98d7d&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Relazioni "N a M"&lt;/h2&gt;
&lt;p&gt;Le relazioni N a M, many-to-many, molti-a-molti, sono spesso delle relazioni pochi-a-pochi.&lt;/p&gt;
&lt;p&gt;Prendiamo l'esempio classico della relazione fra libri e autori.&lt;/p&gt;
&lt;p&gt;In questo classico esempio avremo libri scritti da pochi autori (di solito 1) e autori che scrivono (in media) pochi libri. Ci sono autori che scrivono molti libri, ma sono statisticamente una minoranza, rispetto a coloro che hanno scritto 1 o 2 libri.&lt;/p&gt;
&lt;p&gt;Nel libro possiamo avere un campo per l'array degli autori; nell'autore possiamo avere un campo per l'array dei libri.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;libro&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nx"&gt;_id&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="c1"&gt;//....&lt;/span&gt;
  &lt;span class="nx"&gt;autori&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="nx"&gt;autore&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nx"&gt;_id&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="c1"&gt;//....&lt;/span&gt;
  &lt;span class="nx"&gt;libri&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;19&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Circa come si farebbe in un db relazionale, senza pero' una tabella aggiuntiva con le sole relazioni.&lt;/p&gt;
&lt;p&gt;Nella gestione delle array (che spesso non saranno mai molto grosse) ci viene incontro MongoDB con tutta una serie di funzioni.&lt;/p&gt;
&lt;p&gt;Inoltre questa struttura è ridondante, ancora una volta per venire incontro alle logiche di visualizzazione della app in sviluppo. Facilmente si vorrà saltare da un libro al suo autore e da un autore al suo elenco di libri.&lt;/p&gt;
&lt;p&gt;Altro pro della struttura ridondante è una forma di controllo di errore. In MongoDB non ci sono &lt;code&gt;constraints&lt;/code&gt;, quindi è l'applicazione a doversi preoccupare dell'integrità dei dati, non il DB.&lt;/p&gt;
&lt;p&gt;Prendiamo una relazione fra articoli a catalogo e carrello, senza storicizzazione dell'articolo (che non andrebbe fatta a livello di carrello, ma solo alla conferma dell'ordine). Un carrello può avere più articoli e un articolo può essere in più carrelli (di diversi utenti). Sulla relazione in un relazionale classico, ci sarebbe la relazione come field aggiuntivo.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;    +----------+        /&lt;span class="se"&gt;\ &lt;/span&gt;       +----------+
    |          |       /  &lt;span class="se"&gt;\ &lt;/span&gt;      |          |
    |          |  n   /    &lt;span class="se"&gt;\ &lt;/span&gt;  m  |          |
    | articoli |-----&amp;lt;  nm  &amp;gt;-----| carrelli |
    |          |      &lt;span class="se"&gt;\ &lt;/span&gt;   /      |          |
    |          |  qta--&lt;span class="se"&gt;\ &lt;/span&gt; /       |          |
    +----------+        &lt;span class="se"&gt;\/&lt;/span&gt;        +----------+
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Qui avremo tipicamente un carrello con pochi articoli e gli articoli in molti carrelli (se il nostro ecommerce è un B2C e ha un buon successo).&lt;/p&gt;
&lt;p&gt;Sempre tipicamente vorremo avere un elenco del contenuto del carrello e quasi mai un elenco dei carrelli che contengono un determinato prodotto (salvo per motivi statistici, ma per quelli non si fanno query sul db di produzione, ma su una replica statica, magari su una altro motore DB).&lt;/p&gt;
&lt;p&gt;Quindi&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;carrello&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nx"&gt;_id&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;ObjectId&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;54bc49638371231231e98d7d&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="nx"&gt;articoli&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="s2"&gt;&amp;quot;SW18-22&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="s2"&gt;&amp;quot;JO350AA&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="nx"&gt;gran_totale&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;EUR&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;1000.00&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Avremo 2 articoli con codice &lt;code&gt;SW18-22&lt;/code&gt; e 3 con codice &lt;code&gt;JO350AA&lt;/code&gt;, con articoli del tipo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;articolo&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nx"&gt;_id&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;ObjectId&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;231e98d7d54bc49638371231&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="nx"&gt;sku&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;SW18-22&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nx"&gt;nome&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;it&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Sturalavandini&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;en&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Plunger&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="c1"&gt;//....&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;e magari un indice sullo &lt;code&gt;sku&lt;/code&gt; dell'articolo.&lt;/p&gt;
&lt;p&gt;Un altro dettaglio per un ecommerce potrebbe essere quello che il carrello attivo di un utente e sempre e solo 1, quindi il carrello non è linkato al customer (o viceversa), ma embeddato in esso.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;cliente&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;//....&lt;/span&gt;

    &lt;span class="nx"&gt;carrello&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="nx"&gt;articoli&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="s2"&gt;&amp;quot;SW18-22&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s2"&gt;&amp;quot;JO350AA&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
      &lt;span class="p"&gt;},&lt;/span&gt;
      &lt;span class="nx"&gt;gran_totale&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;EUR&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;1000.00&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Il gran_totale è storicizzato nel carrello e ricalcolato ogni volta che serve, per velocizzare la visualizzazione (anche qui una scelta di &lt;em&gt;tracciato&lt;/em&gt; dettata da una esigenza di visualizzazione dell'applicazione)&lt;/p&gt;
&lt;p&gt;Tornando ai tags degli articoli di un blog: salvare una array di &lt;code&gt;_id&lt;/code&gt; che puntano ai tags ha il vantaggio che, se si vuole correggere un typo in un tag o rinominarlo, andremo ad aggiornare in un solo punto. Il principio di non replicare i dati nelle varie collections si applica anche a MongoDB, laddove ovviamente la replica non generi un vantaggio prestazionale tale da giustificare poi una procedura applicativa di sincronia dei dati fra le varie collections.&lt;/p&gt;
&lt;h2&gt;Silver Bullet&lt;/h2&gt;
&lt;p&gt;Non c'è quindi una soluzione magica per modellare le collections, ma come avete visto avere ben chiara in testa ogni parte della propria applicazione aiuta sempre. Un altro vantaggio di MongoDB è senza dubbio che al cambiare delle specifiche del cliente sull'applicazione, possiamo reagire più rapidamente al cambiamento di un DB relazionale (niente migration, salvo casi eccezionali, per intenderci).&lt;/p&gt;</summary><category term="mix"></category><category term="mongodb"></category><category term="db"></category></entry><entry><title>Programmatori Vs Prostitute</title><link href="http://blog.gambuzzi.it/programmatori-vs-prostitute.html" rel="alternate"></link><updated>2014-11-04T00:00:00+01:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-11-04:programmatori-vs-prostitute.html</id><summary type="html">&lt;p&gt;Lavori a degli orari bizzarri
- Come le prostitute&lt;/p&gt;
&lt;p&gt;Sei pagato per rendere felice il tuo cliente
- Come le prostitute&lt;/p&gt;
&lt;p&gt;Il tuo cliente paga tanto, ma è il tuo padrone che intasca
- Come le prostitute&lt;/p&gt;
&lt;p&gt;I tuoi orari si prolungano la sera fino a quando il lavoro è finito
- Come le prostitute&lt;/p&gt;
&lt;p&gt;Anche se sei bravo, non sei mai fiero di quello che fai
- Come le prostitute&lt;/p&gt;
&lt;p&gt;Sei ricompensato se soddisfi le fantasie del cliente
- Come le prostitute&lt;/p&gt;
&lt;p&gt;Ti è difficile avere e mantenere una famiglia
- Come le prostitute&lt;/p&gt;
&lt;p&gt;Quando ti domandano in che cosa consiste il tuo lavoro, tu non puoi spiegarlo
- Come le prostitute&lt;/p&gt;
&lt;p&gt;I tuoi amici si allontanano da te e resti solo con gente del tuo tipo
- Come le prostitute&lt;/p&gt;
&lt;p&gt;E' il cliente che paga l'hotel e le tue ore di lavoro
- Come le prostitute&lt;/p&gt;
&lt;p&gt;Il tuo padrone ha una gran bella macchina
- Come le prostitute&lt;/p&gt;
&lt;p&gt;Quando vai in missione da un cliente, arrivi con un gran sorriso
- Come le prostitute&lt;/p&gt;
&lt;p&gt;Ma quando è finito, sei di cattivo umore
- Come le prostitute&lt;/p&gt;
&lt;p&gt;Per valutare le tue capacità ti sottopongono a dei terribili tests
- Come le prostitute&lt;/p&gt;
&lt;p&gt;Il cliente vuole sempre pagare meno e tu devi fare delle meraviglie
- Come le prostitute&lt;/p&gt;
&lt;p&gt;Quando ti alzi dal letto dici: Non posso fare questo lavoro per tutta la vita!
- Come le prostitute&lt;/p&gt;</summary><category term="mix"></category><category term="funny"></category></entry><entry><title>Non reinventare la ruota</title><link href="http://blog.gambuzzi.it/non-reinventare-la-ruota.html" rel="alternate"></link><updated>2014-10-12T00:00:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-10-12:non-reinventare-la-ruota.html</id><summary type="html">&lt;h2&gt;Non reinventare la ruota, abbiamo già questa.&lt;/h2&gt;
&lt;p&gt;&lt;img alt="Non reinventare la ruota, abbiamo gia questa." src="http://blog.gambuzzi.it/images/inventare-la-ruota.png" /&gt;&lt;/p&gt;</summary><category term="mix"></category><category term="funny"></category></entry><entry><title>Pelican Simpletranslate</title><link href="http://blog.gambuzzi.it/pelican-simpletranslate.html" rel="alternate"></link><updated>2014-10-12T00:00:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-10-12:pelican-simpletranslate.html</id><summary type="html">&lt;p&gt;Ho cambiato il motore delle traduzioni nei template di questo blog fatto con pelican. Essendo questo l'anno del "reinvetare la ruota" ovviamente me lo sono fatto da zero. ^_^&lt;/p&gt;
&lt;p&gt;Potete trovarlo qui:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/gbinside/pelican_simpletranslate"&gt;https://github.com/gbinside/pelican_simpletranslate&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Attenti ad avere la seguente struttura di cartelle una volta installato.&lt;/p&gt;
&lt;p&gt;&lt;img alt="path" src="http://blog.gambuzzi.it/images/simpletrans.png" /&gt;&lt;/p&gt;</summary><category term="python"></category><category term="pelican"></category></entry><entry><title>La scelta di un framework di sviluppo</title><link href="http://blog.gambuzzi.it/la-scelta-di-un-framework-di-sviluppo.html" rel="alternate"></link><updated>2014-09-22T00:00:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-09-22:la-scelta-di-un-framework-di-sviluppo.html</id><summary type="html">&lt;h2&gt;Introduzione: quando reinventare la ruota?&lt;/h2&gt;
&lt;p&gt;Parlare di confronto fra Framework è un po’ come comparare diversi kit per trovare gli strumenti perfetti per edificare una casa. Verrebbe da dire che questi siano mattoni, cemento e cazzuola, ma questo “kit” non va bene per tutte le case. Pensiamo ad esempio agli strumenti che servono per una casa in legno.&lt;/p&gt;
&lt;p&gt;Il tema dei Framework si riaggancia a quello, non nuovo in campo informatico, del riutilizzo del codice. “Non reinventiamo la ruota” ovvero usiamo codice già scritto, provato, testato, debuggato, ottimizzato.&lt;/p&gt;
&lt;p&gt;Ma se non avessimo mai reinventato la ruota useremmo ancora le ruote in legno dei romani. Reinventare la ruota è una cosa che gli ingegneri del campo automotive fanno in continuazione; le ruote di una Ferrari sono, letteralmente, continuamente reinventate e migliorate.&lt;/p&gt;
&lt;p&gt;Questo non vuole però dire che usare la ruota migliore sul mercato sia la cosa giusta per il nostro progetto. Se stiamo progettando un carrello della spesa la ruota di una Ferrari, per quanto sia una delle migliori ruote del mondo, non andrà bene. Serve una ruota adatta allo scopo.&lt;/p&gt;
&lt;p&gt;Allo stesso modo un Framework può andare benissimo per uno scopo, ma essere inutile o dannoso per un altro.&lt;/p&gt;
&lt;p&gt;Quando si usa un Framework si incappa sempre in quella che viene chiamata “complessità accidentale” o “debito tecnologico”, ovvero nell’utilizzo di uno strumento per velocizzare il lavoro, che richiede comunque tempo per apprendere lo strumento stesso.&lt;/p&gt;
&lt;p&gt;Se invece di andare a piedi guidiamo un’automobile arriviamo più velocemente al lavoro, ma dobbiamo imparare a guidarla, dobbiamo rifornirla, mantenerla, pagare bolli, assicurazioni… se poi lavoriamo a 100 metri da casa, il discorso perde di utilità. Allo stesso modo l’uso di un framework può rallentare lo sviluppo anziché velocizzarlo.&lt;/p&gt;
&lt;h2&gt;Quando usare un framework e quando non usarlo&lt;/h2&gt;
&lt;p&gt;Quando è utile usare un Framework? All’interno di progetti che necessitano di sicurezza sui login, l’uso di un Framework o di parti di esso (framework come symfony2 sono modulari e si può usare anche solo il componente di sicurezza), sono raccomandati per non incappare in errori comuni. Trovata una vulnerabilità del componente usato, si è però attaccabili. Non tutti i framework sono perfetti.&lt;/p&gt;
&lt;p&gt;Per progetti molto piccoli un framework può essere controproducente: costi di apprendimento e di utilizzo possono cioè superare di gran lunga il tempo di creazione del nostro servizio partendo dal nulla. Per progetti molto grandi un framework può dare un forte sprint iniziale per poi rivelarsi una palla al piede arrivati al punto di dovere sviluppare funzionalità molto particolari o complesse. Non è bello dover dire al cliente: “Scusi non si può fare perché il framework che abbiamo usato non supporta questa modalità di scambio dati”.&lt;/p&gt;
&lt;p&gt;Al cliente non importa, o non dovrebbe importare, la tecnologia usata per avere il prodotto richiesto. Se voglio una casa, descrivo la casa, non dico che strumenti usare per farla o come usarli. Mi affido a professionisti il cui lavoro è fare case.&lt;/p&gt;
&lt;p&gt;Per progetti di medio respiro i framework sono una grande risorsa.&lt;/p&gt;
&lt;p&gt;Mi sento di dare un consiglio: reinventate la ruota e non usate framework per quello che è il vostro core-business. Se state ad esempio fornendo un servizio di invio newsletter via e-mail, usate pure un framework per tutto quello che riguarda ad esempio gestione utenti e pannello di amministrazione. Scrivete però ex novo il vostro sistema di coda delle mail e il motore di template, che sarà il vostro punto forte, quello su cui dovete eccellere. Usando qualcosa di fornito da un framework sarete nella mediocrità e il vostro business rischierà di non svilpparsi al meglio.&lt;/p&gt;
&lt;h2&gt;Come scegliere il framework&lt;/h2&gt;
&lt;p&gt;Quale framework è consigliabile usare per il proprio progetto?&lt;/p&gt;
&lt;p&gt;Parlare di NET MVC rispetto a Django, PHP o Ruby on Rails per arrivare a stabilire the best of senza avere un’idea del terreno di confronto rischia di originare una risposta non obiettiva.&lt;/p&gt;
&lt;p&gt;Ognuno di questi ha proprie peculiarità, che lo avvicinano o allontanano dalle necessità con una serie di aspetti correlati al progetto da realizzare. Giocano a favore di una soluzione piuttosto che di un’altra diverse componenti, a cominciare dal target, dalla tipologia di applicazione da sviluppare e alla piattaforma utilizzata, senza dimenticare la filosofia di programmazione (open source oppure no).&lt;/p&gt;
&lt;p&gt;I concetti comuni di questi Framework sono nell’aria. Symfony2 e ZendFramework2 stanno convergendo perché concetti come testabilità, inversion of control e dependency injection, sono ormai buone pratiche da utilizzare e che ogni programmatore dovrebbe conoscere.&lt;/p&gt;
&lt;p&gt;Scendendo in dettagli più consoni allo sviluppo, ci sono alcuni parametri che aiutano nel processo di scelta, che sono la qualità e la disponibilità di librerie e strumenti quali ambienti di sviluppo e debugger, oltre alle dimensioni e affidabilità della community legata a quel framework. Altro punto che può fare scegliere un framework piuttosto dell’altro è la disponibilità di sviluppatori per quel framework e linguaggio, legato anche alla realtà del paese in cui ci si trova. In Italia è più  facile trovare un programmatore PHP piuttosto che uno Ruby.&lt;/p&gt;
&lt;h2&gt;Aspetti di budget&lt;/h2&gt;
&lt;p&gt;Più marginale, ma comunque degna di nota è la voce budget. I costi dello sviluppo sono&lt;/p&gt;
&lt;p&gt;diversi a seconda della tecnologia, ma non sempre chi più spende, meno spende e viceversa. In questo specifico caso, soluzioni come PHP appaiono favorite per il bilanciamento complessivo dei vari aspetti in gioco, specialmente per quanto riguarda progetti di dimensioni medio-piccole, dove ad esempio i costi legate alle licenze per il DB possono risultare troppo onerose, mentre su applicazioni di più ampia scala è preferibile la soluzione di Microsoft, grazie al supporto che l’azienda offre ed alla superiore qualità, ma a questo punto, su un progetto grosso e con budget, ha ancora senso usare un framework? Dipende dal progetto. Sono decisioni che purtroppo vanno anticipate e quando si anticipa una decisione non basta tutta la analisi del mondo per essere sicuri che si sia fatta la scelta corretta.&lt;/p&gt;
&lt;h2&gt;Diffidate dalle soluzioni "all inclusive"&lt;/h2&gt;
&lt;p&gt;Diffidate dai framework che vi promettono di essere ottimizzati per qualunque esigenza: Ottimizzato per tutto è uguale a ottimizzato per nulla. Prendiamo ad esempio le array PHP: sono comode, ma quando dichiarano di essere ottimizzate per contenere qualunque tipo di dato stanno dicendo solo che memorizzare una array di due interi usa 1kB di ram. Come l’XML; può rappresentare qualunque documento, ma nessuno in modo efficiente.&lt;/p&gt;
&lt;p&gt;Non usate framework che vi sembrano troppo complessi o che non sono alla portata dei vostri sviluppatori. Non siamo tutti uguali e percepiamo la complessità in maniera differente, ma se per apprendere un framework servono più di 6 mesi c’è un problema di base. I concetti e le buone pratiche informatiche si rinnovano in continuazione, un framework si rinnova in media ogni 2 anni. Non possiamo passare il tempo a correre dietro al framework e a riapprenderlo in continuazione. Come sviluppatori si è pagati per risolvere problemi, non per conoscere framework.&lt;/p&gt;
&lt;h2&gt;Conclusione&lt;/h2&gt;
&lt;p&gt;Tirando le somme, proprio in virtù del fatto che nessun framework può fregiarsi del titolo di “migliore in assoluto”, nel corso dello sviluppo del vostro progetto, specie se complesso, potreste anche arrivare alla conclusione che sia necessario realizzare la persistenza di dati in Java, il front-end in PHP e la business logic in tecnologia Microsoft. Non abbiate paura durante il progetto di tornare indietro anche su una decisione di piattaforma o framework, potrebbe farvi risparmiare giorni di lavoro in futuro. In ogni caso finito il progetto, guardatevi indietro e rispondete a una domanda: “Quanta percentuale del framework che ho scelto, ho effettivamente usato?”&lt;/p&gt;</summary><category term="mix"></category><category term="framework"></category></entry><entry><title>Dadi e regex</title><link href="http://blog.gambuzzi.it/dadi-e-regex.html" rel="alternate"></link><updated>2014-09-15T00:00:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-09-15:dadi-e-regex.html</id><summary type="html">&lt;p&gt;Da giocatore di ruolo ci si trova spesso a dovere tirare dadi. Nonostante non mi siano mai piaciuti i lanciatori di dati software, ho voluto analizzare il problema di parsare una espressione che rappresenta i dadi da tirare.&lt;/p&gt;
&lt;p&gt;Alcuni esempi:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1d6 - il comune dado a 6 facce&lt;/li&gt;
&lt;li&gt;2d6 - tira 2 volte il dado da 6&lt;/li&gt;
&lt;li&gt;2d6-1 - come prima ma poi sottrai 1&lt;/li&gt;
&lt;li&gt;1d100 - un dado a 100 facce.&lt;/li&gt;
&lt;li&gt;1d20+2 - un dado da 20 più 2&lt;/li&gt;
&lt;li&gt;1d6+1-1d4&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Quindi dobbiamo match-are ogni singolo blocco ed elaborarlo.&lt;/p&gt;
&lt;p&gt;Partiamo da una semplice regex per prendere le espressioni con la "d" in mezzo.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;r&amp;#39;(\d+)d(\d+)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;1d6+1-1d4&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;6&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;4&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ok, pero' ci serve anche il segno&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;r&amp;#39;([+-])(\d+)d(\d+)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;1d6+1-1d4&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;4&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ma è opzionale, altrimenti perdiamo il primo dado.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;r&amp;#39;([+-])?(\d+)d(\d+)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;1d6+1-1d4&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;6&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;4&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;prendiamo anche le parti solo intere senza la "d(\d+)"&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;r&amp;#39;([+-])?(\d+)(?:d(\d+))?&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;1d6+1-1d4&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;6&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;+&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;4&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Aggiungiamo qualche &lt;code&gt;"\s*"&lt;/code&gt; per prendere anche stringhe con gli spazi dentro.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;r&amp;#39;([+-])?\s*(\d+)\s*(?:d\s*(\d+))?&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;1 d6 + 1-1d4&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;6&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;+&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;4&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Da qui possiamo scrivere una funzione che prenda la lista di tuple e ci calcoli un valore random del risultato.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# -*- coding: cp1252 -*-&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;re&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;random&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;randint&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;tira_dadi&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;ret&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;segno&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;molt&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dado&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;dado&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dado&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;dado&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="c"&gt;#se non c&amp;#39;è dado è un dado da 1&lt;/span&gt;
        &lt;span class="n"&gt;segno&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;segno&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;segno&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;molt&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
            &lt;span class="n"&gt;ret&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;segno&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;randint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;dado&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;#randint dà anche gli estremi come possibili risultati&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ret&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;tira_dadi&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;r&amp;#39;([+-])?\s*(\d+)\s*(?:d\s*(\d+))?&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;1 d6 + 1-1d4&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Adesso possiamo anche sbizzarrirci a fare grafici di curva gaussiane lanciando miriadi di dadi ^_^&lt;/p&gt;</summary><category term="python"></category></entry><entry><title>Le ditte piccole sono più agili?</title><link href="http://blog.gambuzzi.it/le-ditte-piccole-sono-piu-agili.html" rel="alternate"></link><updated>2014-09-14T00:00:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-09-14:le-ditte-piccole-sono-piu-agili.html</id><summary type="html">&lt;p&gt;Per farla breve: no.&lt;/p&gt;
&lt;p&gt;La credenza tutta italiana che una ditta piccola sia più dinamica, possa meglio scartare gli ostacoli e rispondere ai problemi più velocemente è sbagliata.&lt;/p&gt;
&lt;p&gt;Molto spesso ditte si appoggiano per sviluppare a piccole realtà perché le vedono più reattive, perché possono parlare col titolare o il programmatore direttamente, senza passare per segretarie, ticket o altri livelli di burocrazia.&lt;/p&gt;
&lt;p&gt;Quali sono i contro di questo rapporto diretto?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;disturbare un programmatore lo rende meno efficiente, anzi gli fa introdurre spesso errori nel codice, il che porta ad una efficienza negativa.&lt;/li&gt;
&lt;li&gt;parlare direttamente con il titolare, che magari non ha competenze specifiche nello sviluppo, che segue altri 20 progetti, è solo fonte di confusione.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Il rapporto cliente/fornitore va regolamentato; più la il fornitore è piccolo, più queste regole devono essere rigide ed applicate. Qui nasce l'esigenza di un sistema di ticketing o affini. Perché non la mail? Perché la quantità di rumore sulla mail è troppo elevato, non si può fatturare direttamente da una mail (mentre è possibile da un sistema di ticketing), su una mail non si possono aggiungere attributi come 'ore lavorate', 'stime', 'priorità', ...&lt;/p&gt;
&lt;p&gt;E per quello che riguarda il supporto?&lt;/p&gt;
&lt;p&gt;In una piccola ditta chi ha seguito e magari fatto il progetto in modalità 'one man project' può non avere tempo per controllare i problemi, magari urgenti, perché su un altro progetto ugualmente strategico. Se il progetto è stato sviluppato da un team, chiunque del team potrebbe fare assistenza. Ma spesso in ditte piccole non ci sono team sui progetti, ma persone. Più che altro per cattiva abitudine e 'cattivo management' alla italiana. Ritengo che anche una ditta piccola possa avere dei team sui progetti, solo deve seguire pochi progetti e ben pagati.&lt;/p&gt;
&lt;p&gt;Una piccola ditta di sviluppo software non può permettersi di garantire supporto 24/7 e se lo fa qualcuno potrebbe essere scontento di questo (leggi come 'licenziarsi'), perché non ha le risorse umane per farlo; al contrario una ditta di 50 persone non ha nessun problema a trovare 2 o 3 di esse che a turno coprano la notte o i weekend.
Una grande ditta, se lo vuole, può essere più dinamica di una piccola, perché crea un distaccamento con 5 persone, altamente rimpiazzabili e affiancabili da altri 100, con un budget e li mette a lavorare. Vedi Google.&lt;/p&gt;
&lt;p&gt;Affidare un progetto a una piccola ditta è come affidare la consegna di un pacco ad un privato che guida una panda.&lt;/p&gt;
&lt;p&gt;La panda schiverà meglio gli ostacoli? Eviterà la coda in autostrada? E se l'autista si ammala?
Il camion delle poste, magari non scarterà i problemi, ma ci passerà sopra. E gli autisti non sono solo uno.&lt;/p&gt;
&lt;p&gt;Analizziamo la cosa da un punto di vista 6 sigma, ovvero dell'affidabilità. Consideriamo i tempi di consegna.&lt;/p&gt;
&lt;p&gt;&lt;img alt="postavsprivato" src="http://blog.gambuzzi.it/images/posta.png" /&gt;&lt;/p&gt;
&lt;p&gt;Analizzando la frequenza dei tempi di consegna (del pacco o del progetto, come volete) rispetto ad una ipotetica data di consegna, vediamo che la panda ha più possibilità di fallire la consegna in tempo, mentre il camion della posta ha tempi più costanti. Non rischia mai di consegnare prima, ma nemmeno dopo.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Quanto costa consegnare in ritardo?&lt;/strong&gt; A volte nulla, a volte più del progetto stesso. Qui le logiche sono troppo diverse per analizzarle; "se non consegniamo in 30 minuti la pizza è gratis" dopo 30 minuti porta una perdita e un mancato guadagno, ma se si consegna a 29 minuti tutto ok.&lt;/p&gt;
&lt;p&gt;Quindi non diamo progetti da fare a ditte piccole?&lt;/p&gt;
&lt;p&gt;Ci sono ditte piccole che usano buone pratiche e offrono un buon compromesso. Come individuarle? Cercate quelle che vi sembrano più rigide. Ovviamente dovete anche valutare la competenza, ma questo è un altro discorso. &lt;strong&gt;"Smart and get things done"&lt;/strong&gt;, uno può essere competente finché vuole, ma se non porta a termine un progetto non serve a nulla.&lt;/p&gt;
&lt;p&gt;Ed estremizzando la ditta verso micro-ditta e verso il freelance?&lt;/p&gt;
&lt;p&gt;I freelance dovrebbero essere usati come affiancamento per formare o imbastire il lavoro, per poi lasciare il personale interno a finire di cucire il tutto.&lt;/p&gt;
&lt;p&gt;Usare un freelance per 'fare' interamente un progetto genera il problema di mantenimento del progetto stesso. Un giorno dopo la consegna del progetto il freelance può essere a Cuba o su un altro progetto meglio pagato.&lt;/p&gt;</summary><category term="mix"></category><category term="agile"></category></entry><entry><title>Ridurre un disco dinamico Vdi di VirtualBox</title><link href="http://blog.gambuzzi.it/ridurre-un-disco-dinamico-vdi-di-virtualbox.html" rel="alternate"></link><updated>2014-09-07T00:00:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-09-07:ridurre-un-disco-dinamico-vdi-di-virtualbox.html</id><summary type="html">&lt;p&gt;Si possono ridurre le immagini vdi dei dischi dinamici di VirtualBox. Questo è utile quando avete disintallato dei programmi o eliminato dei file di grosse dimensioni, dato che di suo il formato &lt;em&gt;vdi&lt;/em&gt; per dischi dinamici non cala mai di dimensione, anche alla cancellazione dei file che contiene. Si espande e basta.&lt;/p&gt;
&lt;p&gt;Il processo è semplice.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;installate sulla macchina &lt;strong&gt;guest&lt;/strong&gt; &lt;code&gt;zerofree&lt;/code&gt; o un programma equivalente per il vostro sistema operativo, questo articolo copre un sistema &lt;strong&gt;guest&lt;/strong&gt; di tipo linux.&lt;/li&gt;
&lt;li&gt;avviate in &lt;strong&gt;recovery mode&lt;/strong&gt;, in modo da poter acceder come root a &lt;em&gt;/dev/sda1&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;montate &lt;em&gt;/dev/sda1&lt;/em&gt; in sola lettura:   &lt;code&gt;(mount -o ro /dev/sda1 /mnt/tmp)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;lanciate "&lt;code&gt;zerofree /dev/sda1&lt;/code&gt;"&lt;/li&gt;
&lt;li&gt;spegnete la macchian virtuale&lt;/li&gt;
&lt;li&gt;lanciate dalla macchina host: "&lt;code&gt;VBoxManage modifyhd –compact /path/to/virtualboximage.vdi&lt;/code&gt;"&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Link di approfondimento:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://maketecheasier.com/shrink-your-virtualbox-vm/2009/04/06"&gt;http://maketecheasier.com/shrink-your-virtualbox-vm/2009/04/06&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="UserManual"&gt;http://www.virtualbox.org/manual/UserManual.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://forums.virtualbox.org/viewtopic.php?p=29272#29272"&gt;http://forums.virtualbox.org/viewtopic.php?p=29272#29272&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><category term="mix"></category><category term="vdi"></category><category term="virtualbox"></category></entry><entry><title>The Joel Test</title><link href="http://blog.gambuzzi.it/the-joel-test.html" rel="alternate"></link><updated>2014-09-03T04:00:21+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-09-03:the-joel-test.html</id><summary type="html">&lt;ul&gt;
&lt;li&gt;Usi sistemi di controllo di versione per il codice?&lt;/li&gt;
&lt;li&gt;Puoi fare una build in un solo passo?&lt;/li&gt;
&lt;li&gt;Fai build giornaliere?&lt;/li&gt;
&lt;li&gt;Hai un database dei bug?&lt;/li&gt;
&lt;li&gt;Correggi i bug prima di scrivere nuovo codice?&lt;/li&gt;
&lt;li&gt;Hai una pianificazione tenuta aggiornata?&lt;/li&gt;
&lt;li&gt;Hai delle specifiche?&lt;/li&gt;
&lt;li&gt;I programmatori hanno un ambiente di lavoro tranquillo?&lt;/li&gt;
&lt;li&gt;Usi i migliori strumenti che il denaro possa comprare?&lt;/li&gt;
&lt;li&gt;Hai dei tester?&lt;/li&gt;
&lt;li&gt;I candidati alla assunzione scrivono codice durante il colloquio?&lt;/li&gt;
&lt;li&gt;Fai fare i test anche al primo che passa per il '&lt;em&gt;corridoio&lt;/em&gt;'?&lt;/li&gt;
&lt;/ul&gt;</summary><category term="mix"></category></entry><entry><title>Disabilitare i prodotti non in una categoria</title><link href="http://blog.gambuzzi.it/disabilitare-i-prodotti-non-in-una-categoria.html" rel="alternate"></link><updated>2014-09-01T20:04:20+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-09-01:disabilitare-i-prodotti-non-in-una-categoria.html</id><summary type="html">&lt;p&gt;sql&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;update&lt;/span&gt; &lt;span class="n"&gt;catalog_product_entity_int&lt;/span&gt; &lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; 
    &lt;span class="k"&gt;where&lt;/span&gt; &lt;span class="n"&gt;attribute_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;96&lt;/span&gt; 
    &lt;span class="k"&gt;and&lt;/span&gt; &lt;span class="n"&gt;entity_id&lt;/span&gt; &lt;span class="k"&gt;not&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; 
        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;select&lt;/span&gt; &lt;span class="k"&gt;distinct&lt;/span&gt; &lt;span class="n"&gt;product_id&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="n"&gt;catalog_category_product&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;in php&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;   
&lt;span class="nv"&gt;$write&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;Mage&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="na"&gt;getSingleton&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;core/resource&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;getConnection&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;core_write&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; 
&lt;span class="nv"&gt;$write&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;update&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; 
    &lt;span class="s1"&gt;&amp;#39;catalog_product_entity_int&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
    &lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;value&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="nx"&gt;Mage_Catalog_Model_Product_Status&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="na"&gt;STATUS_DISABLED&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; 
    &lt;span class="s1"&gt;&amp;#39;attribute_id=96 and entity_id not in (select distinct product_id from catalog_category_product)&amp;#39;&lt;/span&gt; 
&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="php"></category><category term="magento"></category></entry><entry><title>Controllare le config di Magento</title><link href="http://blog.gambuzzi.it/controllare-le-config-di-magento.html" rel="alternate"></link><updated>2014-09-01T20:03:20+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-09-01:controllare-le-config-di-magento.html</id><summary type="html">&lt;p&gt;dalla radice di magento&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;find . -type f -name &lt;span class="s1"&gt;&amp;#39;config.xml&amp;#39;&lt;/span&gt; -exec xmllint --noout &lt;span class="o"&gt;{}&lt;/span&gt; &lt;span class="se"&gt;\;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;serve il comando &lt;strong&gt;&lt;code&gt;xmllint&lt;/code&gt;&lt;/strong&gt; installato&lt;/p&gt;</summary><category term="php"></category><category term="magento"></category></entry><entry><title>Installare Magento da console o ssh</title><link href="http://blog.gambuzzi.it/installare-magento-da-console-o-ssh.html" rel="alternate"></link><updated>2014-09-01T20:02:20+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-09-01:installare-magento-da-console-o-ssh.html</id><summary type="html">&lt;p&gt;A seguire&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;php -f install.php -- &lt;span class="se"&gt;\&lt;/span&gt;
--license_agreement_accepted &lt;span class="s2"&gt;&amp;quot;yes&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
--locale &lt;span class="s2"&gt;&amp;quot;en_US&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
--timezone &lt;span class="s2"&gt;&amp;quot;Europe/Berlin&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
--default_currency &lt;span class="s2"&gt;&amp;quot;EUR&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
--db_host &lt;span class="s2"&gt;&amp;quot;localhost&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
--db_name &lt;span class="s2"&gt;&amp;quot;magento&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
--db_user &lt;span class="s2"&gt;&amp;quot;root&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
--db_pass &lt;span class="s2"&gt;&amp;quot;pass&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
--url &lt;span class="s2"&gt;&amp;quot;http://magento.local/&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
--use_rewrites &lt;span class="s2"&gt;&amp;quot;yes&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
--use_secure &lt;span class="s2"&gt;&amp;quot;no&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
--secure_base_url &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
--use_secure_admin &lt;span class="s2"&gt;&amp;quot;no&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
--admin_firstname &lt;span class="s2"&gt;&amp;quot;John&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
--admin_lastname &lt;span class="s2"&gt;&amp;quot;Doe&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
--admin_email &lt;span class="s2"&gt;&amp;quot;dymmy@dummy.it&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
--admin_username &lt;span class="s2"&gt;&amp;quot;admin&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
--admin_password &lt;span class="s2"&gt;&amp;quot;pass&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="php"></category><category term="magento"></category></entry><entry><title>Recuperare tutti i prodotti per Attribute Set</title><link href="http://blog.gambuzzi.it/recuperare-tutti-i-prodotti-per-attribute-set.html" rel="alternate"></link><updated>2014-09-01T20:01:20+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-09-01:recuperare-tutti-i-prodotti-per-attribute-set.html</id><summary type="html">&lt;p&gt;Questo piccolo pezzo di codice server per recuperare tutti i prodotti dello store, dato il nome di un attribute set.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="nf"&gt;productsByAttributeSet&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$attrSetName&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nv"&gt;$asId&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;Mage&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="na"&gt;getModel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;eav/entity_attribute_set&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$attrSetName&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;attribute_set_name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;getAttributeSetId&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="nv"&gt;$products&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;Mage&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="na"&gt;getModel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;catalog/product&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;getCollection&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;   
    &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;addFieldToFilter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;attribute_set_id&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$asId&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nv"&gt;$products&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;A questo punto sull'oggetto restituito va chiamata la load() se si vuole poi ciclare sui prodotti oppure si può usare la collection non caricata per altri scopi.&lt;/p&gt;
&lt;p&gt;Prima della &lt;code&gt;load()&lt;/code&gt; si possono anche inserire nella collection altri campi che potrebbero servire.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class="nv"&gt;$products&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;addAttributeToSelect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="php"></category><category term="magento"></category></entry><entry><title>check ip con wildcard</title><link href="http://blog.gambuzzi.it/check-ip-con-wildcard.html" rel="alternate"></link><updated>2014-09-01T05:47:17+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-09-01:check-ip-con-wildcard.html</id><summary type="html">&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="x"&gt;#!/usr/bin/env php&lt;/span&gt;
&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="nb"&gt;preg_match&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;str_replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;\*&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;\d+&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nb"&gt;preg_quote&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;192.168.153.*&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;192.168.153.12&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;br &amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="nb"&gt;preg_match&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;str_replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;\*&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;\d+&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nb"&gt;preg_quote&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;192.168.153.*&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;192.168.152.12&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;br &amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="nb"&gt;preg_match&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/^&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;str_replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;\*&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;\d+&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nb"&gt;preg_quote&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;192.168.153.12&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;$/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;192.168.153.12&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;br &amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="php"></category><category term="regex"></category></entry><entry><title>utility di console per file csv</title><link href="http://blog.gambuzzi.it/console-utility-for-csv-file.html" rel="alternate"></link><updated>2014-09-01T05:47:17+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-09-01:console-utility-for-csv-file.html</id><summary type="html">&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="x"&gt;#!/usr/bin/env php&lt;/span&gt;
&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class="nv"&gt;$opt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;getopt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;f:l:h&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="c1"&gt;#echo &amp;#39;$opt: &amp;#39;;print_r($opt);&lt;/span&gt;
&lt;span class="nv"&gt;$row&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;$handle&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;fopen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$opt&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;f&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;r&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;!==&lt;/span&gt; &lt;span class="k"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;$data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;fgetcsv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$handle&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;!==&lt;/span&gt; &lt;span class="k"&gt;FALSE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$row&lt;/span&gt;&lt;span class="o"&gt;==-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="nv"&gt;$header&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$data&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="nv"&gt;$row&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$opt&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;l&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="nv"&gt;$row&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="nv"&gt;$num&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$data&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;p&amp;gt; &lt;/span&gt;&lt;span class="si"&gt;$num&lt;/span&gt;&lt;span class="s2"&gt; fields in line &lt;/span&gt;&lt;span class="si"&gt;$row&lt;/span&gt;&lt;span class="s2"&gt;: &amp;lt;br /&amp;gt;&amp;lt;/p&amp;gt;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;array_key_exists&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;h&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nv"&gt;$opt&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                        &lt;span class="nb"&gt;print_r&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;array_combine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$header&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nv"&gt;$data&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
                &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                        &lt;span class="nb"&gt;print_r&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$data&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="nb"&gt;fclose&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$handle&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="php"></category><category term="csv"></category></entry><entry><title>Differenza fra date</title><link href="http://blog.gambuzzi.it/differenza-fra-date.html" rel="alternate"></link><updated>2014-09-01T05:47:17+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-09-01:differenza-fra-date.html</id><summary type="html">&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="x"&gt;#!/usr/bin/env php&lt;/span&gt;
&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class="nb"&gt;date_default_timezone_set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;UTC&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nb"&gt;print_r&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="nb"&gt;date_diff&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="nb"&gt;date_create&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;date_create&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;2013-01-01&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;br&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="nb"&gt;strtotime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;2013-01-01&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;br&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="nb"&gt;strtotime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;now&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;br&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="nb"&gt;strtotime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;now&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nb"&gt;strtotime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;2013-01-01&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;br&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;strtotime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;now&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nb"&gt;strtotime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;2013-01-01&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;3600&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;24&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;br&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Risutato&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;DateInterval&lt;/span&gt; &lt;span class="n"&gt;Object&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; 
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; 
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt; 
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;28&lt;/span&gt; 
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;h&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;14&lt;/span&gt; 
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;56&lt;/span&gt; 
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt; 
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;invert&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; 
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;days&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;148&lt;/span&gt; 
&lt;span class="p"&gt;)&lt;/span&gt; 
&lt;span class="mi"&gt;1356998400&lt;/span&gt;
&lt;span class="mi"&gt;1369839365&lt;/span&gt;
&lt;span class="mi"&gt;12840965&lt;/span&gt;
&lt;span class="mf"&gt;148.62228009259&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="php"></category><category term="datetime"></category></entry><entry><title>Entro tot giorni da fine trimestre</title><link href="http://blog.gambuzzi.it/entro-tot-giorni-da-fine-trimestre.html" rel="alternate"></link><updated>2014-09-01T05:47:17+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-09-01:entro-tot-giorni-da-fine-trimestre.html</id><summary type="html">&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="x"&gt;#!/usr/bin/env php&lt;/span&gt;
&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class="nb"&gt;date_default_timezone_set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;UTC&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="nv"&gt;$today&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;getdate&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt; 
&lt;span class="nb"&gt;print_r&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$today&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;br/&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$today&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;year&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;span class="nv"&gt;$soglia&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;60&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$ok&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$i&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="nv"&gt;$i&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="mi"&gt;13&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="nv"&gt;$i&lt;/span&gt;&lt;span class="o"&gt;+=&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;#$diff = (strtotime(&amp;#39;now&amp;#39;)-strtotime(sprintf(&amp;#39;%04i-%02i-01&amp;#39;, $y, $i)))/3600/24;&lt;/span&gt;
 &lt;span class="nv"&gt;$diff&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;strtotime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;now&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nb"&gt;strtotime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$y&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$i&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;-01&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;3600&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;24&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
 &lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$diff&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;lt;br&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
 &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$diff&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nv"&gt;$diff&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nv"&gt;$soglia&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
   &lt;span class="nv"&gt;$ok&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
 &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="nb"&gt;var_dump&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$ok&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="php"></category><category term="datetime"></category></entry><entry><title>Postscript</title><link href="http://blog.gambuzzi.it/postscript.html" rel="alternate"></link><updated>2014-08-23T22:51:09+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-08-23:postscript.html</id><summary type="html">&lt;p&gt;&lt;strong&gt;PostScript&lt;/strong&gt; è un linguaggio di descrizione di pagina interpretato particolarmente adatto alla descrizione di pagine ed immagini, sviluppato da Adobe Systems ed inizialmente usato come linguaggio per il controllo delle stampanti.&lt;/p&gt;
&lt;p&gt;Il Postscript va considerato come un vero e proprio linguaggio di programmazione. Lo scopo principale per cui venne ideato era lo sviluppo di uno strumento per descrivere pagine di testo e grafica in modo indipendente dalla risoluzione e dal dispositivo di visualizzazione. Grazie a questo linguaggio quindi è possibile trasferire da un computer ad un altro informazioni senza perdita di qualità. Un file postscript può quindi essere visualizzato o stampato alla massima risoluzione consentita su una qualsiasi piattaforma compatibile.&lt;/p&gt;
&lt;p&gt;Uno degli esempi più interessanti e a suo tempo innovativi di questo linguaggio fu il progetto NeXT di Steve Jobs. Il computer NEXT infatti era stato sviluppato pensando di far gestire sia lo schermo che la stampa dal linguaggio PostScript.&lt;/p&gt;
&lt;p&gt;È derivato dal linguaggio Forth.&lt;/p&gt;</summary><category term="postscript"></category></entry><entry><title>Disabilitare la memorizzazione del Last Access Time in NTFS</title><link href="http://blog.gambuzzi.it/disabilitare-la-memorizzazione-del-last-access-time-in-ntfs.html" rel="alternate"></link><updated>2014-08-23T00:55:32+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-08-23:disabilitare-la-memorizzazione-del-last-access-time-in-ntfs.html</id><summary type="html">&lt;p&gt;Disabilitare il "Last Access Time", il momento di ultimo accesso al file, aumenta la velocità di accesso ai file e cartelle. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;[HKLM\SYSTEM\CurrentControlSet\Control\FileSystem] &lt;span class="s2"&gt;&amp;quot;NtfsDisableLastAccessUpdate&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Come fare - Vai su "Start", "Esegui", e scrivi: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;fsutil behavior &lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="nv"&gt;disablelastaccess&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;Nota&lt;/strong&gt; - Questo può compromettere funzionalità come programmi di backup e/o storage remoto che sfruttino questa informazione.&lt;/p&gt;</summary><category term="windows"></category><category term="batch"></category></entry><entry><title>Disattivare il firewall da command line in windows 7</title><link href="http://blog.gambuzzi.it/disattivare-il-firewall-da-command-line-in-windows-7.html" rel="alternate"></link><updated>2014-08-23T00:55:32+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-08-23:disattivare-il-firewall-da-command-line-in-windows-7.html</id><summary type="html">&lt;p&gt;Da un prompt dei comandi avviato come amministratore&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;netsh advfirewall &lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="nv"&gt;AllProfiles&lt;/span&gt; state &lt;span class="k"&gt;off&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="windows"></category><category term="batch"></category></entry><entry><title>Nascondere il PC in LAN</title><link href="http://blog.gambuzzi.it/nascondere-il-pc-in-lan.html" rel="alternate"></link><updated>2014-08-23T00:55:32+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-08-23:nascondere-il-pc-in-lan.html</id><summary type="html">&lt;p&gt;Da un prompt dei comandi&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;net config server &lt;span class="n"&gt;/hidden:yes&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;Nota:&lt;/strong&gt; su windows 7 questo comando non funziona. Vedi &lt;a href="http://social.technet.microsoft.com/Forums/en-US/w7itpronetworking/thread/040bb9e7-bfa2-4b24-9386-0316739785b7/"&gt;link&lt;/a&gt;&lt;/p&gt;</summary><category term="windows"></category><category term="batch"></category></entry><entry><title>Echo della data</title><link href="http://blog.gambuzzi.it/echo-della-data.html" rel="alternate"></link><updated>2014-08-23T00:49:03+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-08-23:echo-della-data.html</id><summary type="html">&lt;p&gt;all'interno di un file &lt;code&gt;.bat&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;/f&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;tokens=1-3* delims=/&amp;quot;&lt;/span&gt; &lt;span class="nv"&gt;%%a&lt;/span&gt; in (&lt;span class="s1"&gt;&amp;#39;date /t&amp;#39;&lt;/span&gt;) &lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;%%a&lt;/span&gt; &lt;span class="nv"&gt;%%b&lt;/span&gt; &lt;span class="nv"&gt;%%c&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="windows"></category><category term="batch"></category></entry><entry><title>Il Vero Programmatore</title><link href="http://blog.gambuzzi.it/il-vero-programmatore.html" rel="alternate"></link><updated>2014-08-22T11:47:01+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-08-22:il-vero-programmatore.html</id><summary type="html">&lt;p&gt;&lt;a href="https://sites.google.com/site/ilveroprogrammatore/"&gt;[link]&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Tornando indietro ai vecchi e gloriosi giorni dell'informatica primordiale era relativamente facile distinguere tra veri uomini e ragazzini (nella letteratura classica la distinzione e' tra "veri uomini" e "mangia-quiche").&lt;/p&gt;
&lt;p&gt;Durante quei tempi i Veri Uomini erano gli unici che si intendevano di computer, gli altri (i ragazzini o "mangiatori di quiche") erano quelli che di computer non se ne intendevano.&lt;/p&gt;
&lt;p&gt;I Veri Uomini dicevano cose come "DO 10 I=1,10" o "ABEND" (ovviamente parlando in lettere maiuscole, mi sembra ovvio), mentre il resto della gente diceva semplicemente che i computer erano cose troppo complicate per loro. (sempre il lavoro [1] dice appunto che non esistono cose troppo complicate per il vero uomo).&lt;/p&gt;
&lt;p&gt;Ma, come in tutte le cose, i tempi cambiano, adesso viviamo in tempi in cui anche le vecchiette hanno dei computer dentro i loro forni a microonde, in cui qualunque Vero Uomo puo' essere battuto da un ragazzino di 12 anni in qualunque videogioco, in cui chiunque puo' comperare, 
usare e capire un computer.&lt;/p&gt;
&lt;p&gt;Il Vero Programmatore rischia di intraprendere la via dell'estinzione, sopraffatto da universitari che basano la loro vita su Mouse ed Icone. &lt;/p&gt;
&lt;p&gt;E' percio' necessario stabilire una netta distinzione tra Il Vero Programmatore ed un universitario giocatore di Pac-Man. Se questa distinzione sara' chiara questi giovani inesperti potranno avere un modello guida, un padre spirituale a cui ispirarsi. Inoltre sara' possibile spiegare ai datori di lavoro perche' non e' ne' necessario ne' giusto sostituire dei Veri Programmatori con dei giocatori di Pac Man, anche se il risparmio sugli stipendi sarebbe considerevole.&lt;/p&gt;
&lt;h2&gt;LINGUAGGI&lt;/h2&gt;
&lt;p&gt;Il sistema piu' rapido e sicuro per distinguere un Vero programmatore dal resto del mondo e' considerare il linguaggio che usa: il Vero Programmatore programmava in FORTRAN, mentre ora programma in C. &lt;/p&gt;
&lt;p&gt;I mangiatori di Quiche programmano in Pascal. Da questo si deduce che sicuramente Niklaus Wirth era un mangiatore di Quiche e NON un Vero Programmatore. &lt;/p&gt;
&lt;p&gt;Ad un Vero Programmatore non servono tutte le strutture ed i meccanismi del pascal, un Vero Programmatore puo' essere felice con un perforatore di schede o un terminale a 1200 baud, un C a standard K&amp;amp;R (ANSI... a che serve, il K&amp;amp;R e' fin troppo chiaro), ed una birra. &lt;/p&gt;
&lt;p&gt;A proposito, Kerningan e Ritchie sicuramente erano dei Veri Uomini, probabilmente anche dei veri programmatori.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Il Vero Programmatore processa liste in C&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore processa numeri in C &lt;/li&gt;
&lt;li&gt;Il Vero Programmatore manipola stringhe in C&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore elabora programmi di IA in C&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore fa contabilita' in C&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore crea simulatori di reti neuronali in C &lt;/li&gt;
&lt;li&gt;Il Vero Programmatore starnutisce in C&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore fa TUTTO in C &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Se per caso il C non fosse sufficiente il Vero Programmatore lavorera' in assembler, se neppure questo fosse sufficiente allora il lavoro non e' fattibile, ma la cosa e' impossibile, un Vero Programmatore in C ed assembler puo' fare TUTTO, per definizione. &lt;/p&gt;
&lt;h2&gt;PROGRAMMAZIONE STRUTTURATA&lt;/h2&gt;
&lt;p&gt;Gli accademici negli ultimi anni hanno stabilito, dall'alto delle loro cattedre, che un programma e' piu' facilmente leggibile se il programmatore utilizza particolari tecniche, strutture e costrutti. &lt;/p&gt;
&lt;p&gt;Ovviamente essi non sono d'accordo su quali questi costrutti e queste tecniche precisamente siano, e percio' le loro teorie sono discordanti ed erratiche. In questo modo solo alcuni mangia-Quiche si lasciano convincere dai loro assiomi.&lt;/p&gt;
&lt;p&gt;Un tipico lavoro del mondo reale (e non un lavoro teorico da universita') e' di prendere un sorgente di 100.000 o 200.000 linee e farlo andare il doppio piu' veloce. In questo caso qualunque Vero Programmatore vi potra' dire che la programmazione strutturata non serve a nulla, quello che in realta' serve e' del talento. &lt;/p&gt;
&lt;p&gt;Alcune rapide considerazioni del Vero Programmatore sulla programmazione strutturata:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Il Vero Programmatore non ha paura di usare GOTO&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore puo' scrivere un ciclo DO lungo 5 pagine senza fare confusione.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore usa i costrutti CASE basati su calcoli aritmetici, essi rendono un programma piu' divertente.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore scrive del codice automodificante, soprattutto se questo puo' salvare 20 nanosecondi all'interno di un ciclo.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore utilizza l'area di memoria di un codice gia' eseguito e che non servira' piu' come area di memoria per i dati, ottimizzando in questo modo lo spazio a disposizione.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore non ha bisogno di commenti, il codice e' gia' autoesplicante a sufficienza.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Dopo aver parlato di programmazione strutturata si e' anche parlato molto di strutture di dati. Tipi di dati astratti, stringhe, liste e chi piu' ne ha piu' ne metta. &lt;/p&gt;
&lt;p&gt;Wirth (il mangiatore di Quiche menzionato poco sopra) ha scritto un intero libro [2] tentando di dimostrare che si puo' scrivere un intero programma basandosi solo sulle strutture di dati. &lt;/p&gt;
&lt;p&gt;Come ogni Vero Programmatore sa invece l'unica struttura che serve VERAMENTE e' l'array, dato che tutti gli altri tipi di dato altro non sono che sottoinsieme limitati di questi e dato che sono limitati egli usa solo puntatori, soprattutto se questi rendono possibile bombare irrimediabilmente il computer, se no dove starebbe il divertimento? &lt;/p&gt;
&lt;h2&gt;SISTEMI OPERATIVI&lt;/h2&gt;
&lt;p&gt;Che SO usa un Vero Programmatore?&lt;/p&gt;
&lt;p&gt;UNIX? NO!, Unix e' qualcosa di simile a quello che si aspetta un vero Hacker, dato che qualunque Vero Programmatore non trova alcun divertimento nel tentare di indovinare come cavolo il comando PRINT viene chiamato questa settimana. La gente non fa lavori seri su Unix, lo usano soprattutto per fare adventure, modificare Rogue e mandarsi il tutto via UUCP.&lt;/p&gt;
&lt;p&gt;MS-DOS? Gia' meglio, crittico quel tanto che basta, facile da modificare, se ce ne fosse necessita', facile da bombare, con tante cose sconosciute e strane. &lt;/p&gt;
&lt;p&gt;Una cosa sicuramente possiamo dire: 
Il Vero Programmatore non usa il mouse e le icone, infatti il Vero Programmatore non capisce perche' mai per compilare un programma uno debba staccare le mani dalla tastiera e cliccare su un menu quando e' tanto semplice battere:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;CL&lt;/span&gt; &lt;span class="n"&gt;pippo&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;opt&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gnu&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;all&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;q&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;cvb&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Comunque il Vero Programmatore ha una sola nostalgia: il sistema IBM OS/370.
Questo era infatti il SO che qualunque Vero Programmatore vorrebbe vedere implementato su TUTTI i computer del mondo.&lt;/p&gt;
&lt;p&gt;Un Vero Programmatore sa che se vede comparire l'errore IJK3051 basta andare a vedere nel manuale del JCL per capire cosa e' successo. &lt;/p&gt;
&lt;p&gt;Un Grande Programmatore poi sapra' i codici a memoria, mentre un Grandissimo Programmatore potra' trovare l'errore osservando 6 mega di dump senza neppure usare un calcolatore esadecimale... &lt;/p&gt;
&lt;p&gt;L'OS/370 e' VERAMENTE un SO potente, infatti e' possibile distruggere giorni e giorni di lavoro con la semplice pressione di un tasto. Questo incoraggia l'attenzione sul lavoro e forma una mentalita' che servira' in futuro, quando per distruggere giorni di lavoro saranno sufficienti tre tasti...&lt;/p&gt;
&lt;h2&gt;TOOL DI PROGRAMMAZIONE&lt;/h2&gt;
&lt;p&gt;Quali tool di programmazione necessita realmente un Vero Programmatore? &lt;/p&gt;
&lt;p&gt;In effetti, come detto prima sono sufficienti un terminale a 1200 baud o un lettore di schede perforate, ma anche una semplice tastiera esadecimale sarebbe gia' piu' che sufficiente. 
Ma purtroppo adesso i computer non hanno piu' tastiere esadecimali, come pure non hanno piu' quei magnifici pannelli frontali pieni di lucine e tastini che facevano tanto futuro. &lt;/p&gt;
&lt;p&gt;I primi veri programmatori sapevano a memoria l'intero settore di boot del- l'hard disk, e lo potevano riscrivere a memoria ogniqualvolta che il loro programma lo rovinava. &lt;/p&gt;
&lt;p&gt;La leggenda narra che Seymore Cray (creatore del Cray I) scrisse il SO del primo CDC7600 usando il pannello frontale del computer la prima volta che questo venne acceso. Senza bisogno di dirlo Seymore era un Vero Programmatore.&lt;/p&gt;
&lt;p&gt;Uno dei migliori Veri Programmatori che abbia mai conosciuto e' un sistemista della Texas Instrument. Una volta rispose alla telefonata di un cliente a cui si era bombato il sistema durante il salvataggio del lavoro. Il Vero Programmatore rimise a posto tutto facendo scrivere le istruzioni per terminare il lavoro di I/O sul pannello frontale (allora c'erano ancora), riscrivendo i dati rovinati in esadecimale e facendosi dire i risultati per telefono. &lt;/p&gt;
&lt;p&gt;La morale della storia e' che se un tastierino ed una stampante possono far comodo un Vero Programmatore puo' arrangiarsi anche con solo un telefono.&lt;/p&gt;
&lt;p&gt;Un altro tool fondamentale e' un buon text editor. Molti dicono che il migliore sia quello della Xerox di Palo Alto, ma, come gia' detto, il Vero Programmatore non parla al suo computer attraverso un mouse. &lt;/p&gt;
&lt;p&gt;Altri preferiscono EMACS o VI, ma in effetti il concetto di WYSYWYG (quello che vedi e' quello che ottieni) si applica ai computer malissimo, cosi' come si applica alle donne. &lt;/p&gt;
&lt;p&gt;Quello che un vero programmatore vuole e' in effetti qualcosa di piu' complesso, che implementi la filosofia del "You asked for it, you got it !!!" (YAFIYGI, avrai solo quello che chiedi). &lt;/p&gt;
&lt;p&gt;Insomma, l'editor perfetto e' il TECO. 
Alcuni hanno osservato che una linea di comandi per TECO assomiglia molto di piu' al rumore sulle linee telefoniche che ad una linea di comandi, ed in effetti uno dei giochi piu' divertenti da fare e' quello di scrivere il proprio nome sulla linea di comando e vedere cosa succede.&lt;/p&gt;
&lt;p&gt;Inoltre ogni piccolo errore avra' come risultato quello di distruggere il vostro programma, o, peggio, di introdurre subdoli errori che saranno in seguito difficilmente rintracciabili. &lt;/p&gt;
&lt;p&gt;Per questa ragione un Vero Programmatore e' molto riluttante a editare un programma funzionante per dargli gli ultimi ritocchi. E sempre per questa ragione un Vero Programmatore trova piu' semplice fare le modifiche finali utilizzando un programma come lo Zap. &lt;/p&gt;
&lt;p&gt;Alcuni Veri Programmatori utilizzano lo Zap stesso come editor, altri scrivono il programma direttamente in codice eseguibile, ma e' forse esagerato.&lt;/p&gt;
&lt;p&gt;Procedendo su questa linea il risultato e' che tra il codice sorgente e quello che in effetti c'e' scritto su disco c'e' una discrepanza sempre maggiore, con il risultato che il lavoro e' sempre piu' sicuro, perche' solo un Vero Programmatore potra' lavorarci sopra in modo proficuo, nessun mangiatore di Quiche potra' fare manutenzione, minimizzando cosi' i rischi di malfunzionamenti ulteriori del programma. Questa e' SICUREZZA.&lt;/p&gt;
&lt;p&gt;Altri tool importanti sono le documentazioni su cui il vero programmatore basa gran parte del suo lavoro:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Il Vero Programmatore non legge mai i manuali introduttivi, bastano ed avanzano i Reference Manual.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore ha imparato il C sul K&amp;amp;R, qualunque altro testo e' inutile e deviante.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore se possibile legge i manuali in lingua originale, anche se questo a volte pone dei problemi di reperibilita'.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore non colleziona libri di raccolte di algoritmi. Questo perche' e' piu' lento cercare l'algoritmo in 3000 pagine di manuale che scriverlo di getto.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore non ha bisogno di manuali sull'assembler, sono sufficienti i data sheet dei microprocessori.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore non scrive MAI i manuali dei programmi che fa, non ne ha il tempo materiale. &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Il Vero Programmatore generalmente ha da qualche parte la documentazione completa del SO su cui lavora, pubblicata dalla casa che ha fatto il SO, ma sa che SICURAMENTE nelle 3500 pagine che in media compongono la documentazione non trovera' quello che cerca.&lt;/p&gt;
&lt;p&gt;Se nelle vicinanze del terminale sono presenti piu' di 5 manuali ci sono delle forti probabilita' che NON sia un Vero Programmatore. 
Alcuni Tool NON usati da un Vero Programmatore: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Preprocessori di linguaggio.&lt;/li&gt;
&lt;li&gt;Traduttori di linguaggio.&lt;/li&gt;
&lt;li&gt;Full Screen Debugger a livello sorgente. Il Vero Programmatore e' in grado di capire quello che dice il Debug.&lt;/li&gt;
&lt;li&gt;Compilatori ottimizzanti. L'ottimizzazione del programma scritto dal Vero Programmatore e' gia' il massimo, e percio' altre modifiche non farebbero altro che peggiorare la situazione.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;IL LAVORO DEL VERO PROGRAMMATORE&lt;/h2&gt;
&lt;p&gt;In generale il Vero Programmatore non fa lavori semplici come gestione di indirizzari o programmi gestionali, ecco alcuni dei lavori piu' adatti ai veri programmatori:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Il Vero Programmatore scrive programmi per la simulazione di una guerra termonucleare per l'esercito.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore lavora per lo spionaggio, per decrittare le trasmissioni in cifra del nemico.&lt;/li&gt;
&lt;li&gt;E' in gran parte dovuto al lavoro dei Veri Programmatori che gli americani sono arrivati sulla Luna.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore programma i sistemi guida di satelliti e missili.&lt;/li&gt;
&lt;li&gt;In ogni caso il Vero Programmatore lavora su progetti molto importanti o molto ben pagati. &lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;IL VERO PROGRAMMATORE MENTRE GIOCA&lt;/h2&gt;
&lt;p&gt;Il generale il Vero Programmatore gioca nello stesso modo in cui lavora: con i computer. &lt;/p&gt;
&lt;p&gt;In generale lo stesso lavoro e' un gioco, ed alla fine del mese il Vero Programmatore e' sempre abbastanza stupito di ricevere un compenso per quello che, a tutti gli effetti, e' per lui un divertimento, anche se non lo dira' mai a voce alta. &lt;/p&gt;
&lt;p&gt;Occasionalmente il Vero Programmatore uscira' dall'ufficio per prendere una boccata d'aria e farsi una birra, ecco alcuni sistemi per riconoscere un Vero Programmatore fuori dal suo posto di lavoro:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ad un party i Veri Programmatori sono quelli che stanno in angolo parlando di Sistemi Operativi, mentre di fianco a loro passano ragazze che si fermano, ascoltano per alcuni secondi e poi, dato che non capiscono una parola, se ne vanno. A volte un vero Programmatore incontra una Vera Programmatrice. Vi risparmio per decenza il racconto di come si svolgono i fatti.&lt;/li&gt;
&lt;li&gt;Ad una partita di football il Vero Programmatore e' quello che controlla gli schemi delle squadre basandosi su quelli disegnati dal suo programma su di un foglio 11x14.&lt;/li&gt;
&lt;li&gt;Sulla spiaggia il Vero Programmatore e' quello che disegna flow chart sulla sabbia.&lt;/li&gt;
&lt;li&gt;Durante un black out un Vero Programmatore generalmente sviene in quanto vengono a mancare i vitali afflussi di energia che gli permettono di vivere. &lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;L'HABITAT DEL VERO PROGRAMMATORE&lt;/h2&gt;
&lt;p&gt;Dal momento che un vero programmatore e', per l'azienda che lo usa, generalmente molto costoso, vediamo come fare per farlo rendere al meglio sul posto di lavoro. &lt;/p&gt;
&lt;p&gt;Il Vero Programmatore vive davanti ad uno o piu' monitor, attorno, sopra, dietro e sotto questi terminali si trovano generalmente le seguenti cose:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;I listati di TUTTI i programmi a cui il Vero Programmatore ha mai lavorato, accatastati, in ordine piu' o meno cronologico, su ogni superficie piatta disponibile intorno.&lt;/li&gt;
&lt;li&gt;Sei o piu' tazze di caffe', quasi sempre fredde, ed alcune con alcuni mozziconi di sigaretta galleggianti.&lt;/li&gt;
&lt;li&gt;Attaccato al muro c'e' un ritratto di Spock con in mano l'enterprise stampato con una vecchia stampante a margherita.&lt;/li&gt;
&lt;li&gt;Sparsi per terra ci sono pacchetti vuoti di noccioline e vaccate simili.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In generale un Vero Programmatore puo' lavorare anche 30 o 40 ore di fila, anzi, di solito lavora molto megli sotto sforzo. Fino a qualche tempo fa si concedeva dei pisolini mentre il computer compilava il programma, ma purtroppo il diffondersi di computer e periferiche veloci ha reso questa pratica difficile. &lt;/p&gt;
&lt;p&gt;In generale un Vero Programmatore se ha 5 settimane per terminare un programma passa le prime 4 cincischiando con aspetti secondari, ma interessanti, del progetto, mentre il grosso del lavoro viene fatto in una settimana di lavoro ininterrotto. Questo provoca sempre grosse preoccupazioni al principale che teme sempre che il lavoro non sia mai pronto in tempo, ed offre al Vero Programmatore una buona scusa per non scrivere la documentazione.&lt;/p&gt;
&lt;h2&gt;VARIE ED EVENTUALI&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Il Vero Programmatore a volte puo' scordare il nome della moglie o della ragazza, ma sa a memoria il codice ASCII.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore non si cura della tastiera, le sue dita si adattano automaticamente a qualunque layout.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore sa che anche avendo 8 mega di RAM questa non sara' mai abbastanza, e percio' tenta di fare programmi piccoli.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore tiene sempre i backup da quando ha dovuto riscrivere 327000 linee di assembler 68020.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore scrive programmi di pubblico dominio, anche se di solito sono programmi talmente specialistici che serviranno solo ad altre tre persone al mondo oltre a lui. &lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;ALTRI COROLLARI&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Il Vero Programmatore si trovava a suo agio con il Fortran in quanto consentiva la programmazione a spaghetti senza limitazioni.&lt;/li&gt;
&lt;li&gt;Va comunque detto che il Vero Programmatore e' in grado di scrivere programmi a spaghetti in qualsiasi linguaggio. In questo senso, il C va a pennello per la sua capacita' di scrivere programmi Write-only che nessuno, a parte un altro Vero Programmatore, sara' mai in grado di decodificare.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore non mette mai commenti perche' a suo parere il codice e' autodocumentante. Questo vale anche per i dump esadecimali di codice assembly.&lt;/li&gt;
&lt;li&gt;Nel tempo libero, il Vero Programmatore va abbastanza spesso in discoteca, ma si limita ad osservare il gioco di luci. Ultimamente, viene stranamente attratto dal terminale del controllore laser.&lt;/li&gt;
&lt;li&gt;Ai funerali di un collega, il Vero Programmatore commenta: "Peccato.. la sua routine di sort O(logN) stava quasi per funzionare"&lt;/li&gt;
&lt;li&gt;Le Vere Programmatrici esistono in ragione di 1 per ogni 256 Vero Programmatori, come tale la probabilita' di incontrarne una e' estremamente bassa.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore ha scarsa considerazione degli utenti, ritenuti ad un livello troppo basso. La probabilita' di trovare un utente competente e' stimata inferiore a quella di trovare una Vera Programmatrice.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore conta in base due.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;ERRATA CORRIGE&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;QUALE hard disk? mangianastri e ferriti!&lt;/li&gt;
&lt;li&gt;QUALI nastri? cassetti di schede perforate! Solo i ricchi avevano i nastri!&lt;/li&gt;
&lt;li&gt;QUALI tastiere e display esadecimali? File di interruttori e LED in binario.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore non usa commenti: se è stato difficile da scrivere, deve essere difficile da leggere. Ma se è un VERO PROGRAMMATORE lo legge ugualmente con facilità.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore usa il C, e QUINDI usa anche Unix e i Preprocessori. Unix, almeno nelle prime versioni, e' il vero sistema operativo contemporaneo l'unico che consente ancora di azzerare un intero file system con un comando di sette lettere blank compresi: &lt;code&gt;rm -r /&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;OS/370 era seriamente migliore, ma non bastava battere un tasto per perdere tutto, era sufficiente sbagliare la posizione di un blank. &lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;POSTILLE&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Il Vero Programmatore edita direttamente il file Postscript di un documento, se deve modificarlo.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore conosce sempre almeno 16 cifre di pi greco, di cui conosce anche la rappresentazione IEEE in esadecimale, e (se anche fisico) tutte le cifre di c (e' definito con 9 cifre), in modo da non aver bisogno di noiosi include files.&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore e la programmazione ad oggetti: se costretto a simili pratiche, il Vero Programmatore PRIMA scrive il programma, e POI, quando funziona, ne fa un'analisi ad oggetti. Per nessuna ragione comunque modifichera' il codice gia' scritto per conformarlo all'analisi. Comunqe inserira' nel programma un numero sufficente di variabili globali usate da TUTTE le classi, in modo da renderne impossibile la manutenzione da un mangiatore di Quiche (vedi praragrafo sulla sicurezza dei programmi).&lt;/li&gt;
&lt;li&gt;Il Vero Programmatore chiama le variabili con nomi autoespicativi di massimo 5 lettere (es. CVfrZ). Solo mangiatori di Quiche usano nomi tipo "Massimo_Numero_Di_Dipendenti" per una variabile. Se un Vero Programmatore usa un nome simile, probabilmente la variabile indica la velocita' terminale di uno ione in una nube molecolare (il codice e' stato riciclato efficentemente da un programma di contabilita').&lt;/li&gt;
&lt;li&gt;Il capitano Picard di Star Trek TNG e' un Vero Programmatore: riprogramma Data usando un pezzo di ferro per cortocircuitarne il circuito di input in binario. (Time's Arrow, part II, stardate 46001.3)&lt;/li&gt;
&lt;li&gt;Il vero programmatore distingue fra l e I.&lt;/li&gt;
&lt;li&gt;Il vero programmatore ditingue fra 1 e l.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;REFERENZE&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;Feirstein&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;.,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Real Men don&amp;#39;t Eat Quiche&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;New&lt;/span&gt; &lt;span class="n"&gt;York&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Pocket&lt;/span&gt; &lt;span class="n"&gt;Books&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1982.&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;Wirth&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;.,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Algorithms + Data structures = Programs&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Prentice&lt;/span&gt; &lt;span class="n"&gt;Hall&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1976.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Come fare a riconoscere un Vero Programmatore?&lt;/h2&gt;
&lt;p&gt;Semplice. Basta verificare se corrisponde al seguente identikit. (via layos, ma la storia è lunghissima, parte da qua e ha persino un blog tutto per lui).&lt;/p&gt;
&lt;p&gt;nota 1: se non sei un Vero Programmatore, potresti avere problemi a comprendere alcune affermazioni. Non preoccuparti: non è grave.&lt;/p&gt;
&lt;p&gt;nota 2: il fatto che il Vero Programmatore sia scritto "VeroProgrammatore" non è un refuso, ma una notazione ungherese. &lt;/p&gt;
&lt;p&gt;nota 3: il "mangiatore di Quiche" è l'antitesi del Vero Programmatore&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Quando il VeroProgrammatore si ferma a fare benzina a un distributore IP, si meraviglia di non poterlo usare come server DHCP.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore quando va a letto esclama sleep (0x7080).&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore mangia wafer di silicio.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore sa che il caso non esiste: è solo uno pseudo-caso precomputato.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore non si fida delle mappe di Google. Se deve spostarsi da una città all'altra, applica l'algoritmo di Dijkstra.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore può condividere un appartamento su eMule.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore può eludere qualsiasi intercettazione telefonica semplicemente dicendo "slash slash" all'inizio della conversazione.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore si dichiara alla donna che ama dicendo "private Object VeroProgrammatore;".&lt;/li&gt;
&lt;li&gt;Se il VeroProgrammatore si reca negli Stati Uniti, non ha bisogno di convertire i suoi euro in dollari: esegue un cast implicito.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore ha una casetta sull'albero binario di ricerca.&lt;/li&gt;
&lt;li&gt;Al VeroProgrammatore non piace Il Signore Degli Anelli. Non gli va giù che 8 Hobbit non facciano 1 Hobbyte.&lt;/li&gt;
&lt;li&gt;La casa del Mangiatore di Quiche è orientata a sud. La casa del Vero Programmatore è orientata agli oggetti.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore entra in casa dalla porta 8080.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore va a fare la spesa con una lista concatenata.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore può contare da 0 fino a 1023 con le dita delle mani.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore regala alla sua fidanzata un array di perl(e).&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore programma le sue vacanze in assembler.&lt;/li&gt;
&lt;li&gt;Quando un VeroProgrammatore da bambino impara a parlare, le sue prime parole non sono "mamma" o "papà" ma "Hello, World!"&lt;/li&gt;
&lt;li&gt;Quando un VeroProgrammatore riceve le carte al tavolo da gioco, se le ordina in mano in O(n log(n)) mosse.&lt;/li&gt;
&lt;li&gt;Quando a uno sportello gli viene chiesto di compilare un modulo, il VeroProgrammatore esclama: "gcc modulo.c".&lt;/li&gt;
&lt;li&gt;Quando da piccolo a scuola il VeroProgrammatore doveva fare il tema "il mio papà", scriveva semplicemente Papà.toString().&lt;/li&gt;
&lt;li&gt;Quando due Veri Programmatori si scontrano, o vanno subito in Buffer Overflow, o si affrontano per mille cicli di clock senza che vi sia un vincitore.&lt;/li&gt;
&lt;li&gt;Nel caso erediti una vecchia casa, il VeroProgrammatore non la ristruttura. La sovrascrive.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore può scrivere un metodo che lancia un'eccezione che conferma la regola.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore non porta fuori la spazzatura: non si fida del Garbage Collector. Si limita ad esclamare: "Rifiuti.Dispose()" e l'immondizia si dissolve nel nulla.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore non iscrive i suoi figli a scuola. Ne fa comparire i nomi direttamente sul registro di classe utilizzando un puntatore.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore ha un grande rispetto per l'arte. Uno dei più grandi misteri che lo tormentano è come Leonardo sia riuscito a dipingere La Gioconda senza vertex shading.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore ha sulla parete di casa sua un quadretto con la scritta "127.0.0.1 dolce 127.0.0.1".&lt;/li&gt;
&lt;li&gt;Un VeroProgrammatore non usa alcun firewall. Si accorge che qualcuno è entrato nel suo computer perché il suo personaggio di Ultima Online skippa un frame quando attacca.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore utilizza nomi di variabile tipo _abr, idGnr, o più semplicemente a. Se in un listato scritto da un VeroProgrammatore trovate una variabile chiamata stipendioImpiegato, probabilmente contiene il numero di isotopi radioattivi di un reattore nucleare (il VeroProgrammatore ha riciclato il codice di un suo vecchio programma di contabilità).&lt;/li&gt;
&lt;li&gt;Un test per verificare se qualcuno è un VeroProgrammatore consiste nel legarlo, imbavagliarlo e chiuderlo a chiave in una stanza vuota da solo con un computer preassemblato e non overcloccato, senza alcun utensile o strumento. Se entro 30 secondi non sta uscendo del fumo da sotto la porta, il soggetto non è un VeroProgrammatore.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore chiama qualsiasi interfaccia più complessa di una shell a riga di comando con un unico nome: "spreco di RAM".&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore non si ferma col rosso. Si ferma col #FF0000.&lt;/li&gt;
&lt;li&gt;Un VeroProgrammatore finisce tutte le sue frasi con un punto e virgola;...anche quando parla;&lt;/li&gt;
&lt;li&gt;Il Mangiatore di Quiche può cancellare la cache del suo browser. Il VeroProgrammatore puo' cancellare la cache di Google.&lt;/li&gt;
&lt;li&gt;Nel caso perda le chiavi di un lucchetto, il VeroProgrammatore si cimenta in un lungo ed estenuante brute force.&lt;/li&gt;
&lt;li&gt;Il Mangiatore di Quiche va all'Ikea, compra una scrivania, la porta a casa e la monta. Al VeroProgrammatore invece basta esclamare: "apt-get install scrivania" perché essa appaia in tutto il suo splendore nello studio, pronta all'uso (e con una risma di fogli bianchi nel primo cassetto).&lt;/li&gt;
&lt;li&gt;Per il VeroProgrammatore il concetto di interfaccia grafica è rappresentato da una serie di 1 e 0 ben indentati su di un monitor monocromatico.&lt;/li&gt;
&lt;li&gt;Se proprio viene costretto a commentare il proprio codice, il Vero Programmatore disseminerà casualmente nel proprio listato qualche ovvia descrizione dei metodi più semplici. Le parti di codice indispensabili al funzionamento del sofware saranno invece precedute da un:
&lt;code&gt;// Non mi aspetto che tu capisca questo&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Quando il VeroProgrammatore viene invitato ad una festa, può scoprire quali ragazze sono single e quali no semplicemente esclamando: "ls -l".&lt;/li&gt;
&lt;li&gt;Se il suo bucato non è abbastanza morbido, il VeroProgrammatore ricompila il Vernel.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore ha gli Gnome da giardino.&lt;/li&gt;
&lt;li&gt;La VeraProgrammatrice si preoccupa quando ha un ritardo nel ciclo for.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore ricorda con affetto il suo vecchio Spectrum. Stava giocando contro un certo Joshua a Guerra Termonucleare Globale, quando il processore si è fuso. Era il 9 novembre 1989.&lt;/li&gt;
&lt;li&gt;Qualcuno sostiene che il VeroProgrammatore tiene sempre i backup da quando ha dovuto riscrivere 327000 linee di assembler 68020. In realtà il VeroProgrammatore non fa alcun backup: è più veloce riscrivere il software a memoria che ricordarsi dove ha messo i nastri o i cd dei backup.&lt;/li&gt;
&lt;li&gt;Una recente teoria sostiene che gli universi paralleli esistono: li fa girare il VeroProgrammatore con VMWare.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore non usa strumenti di debug o checkpoint. Può leggere il valore di una variabile durante l'esecuzione del suo programma semplicemente osservando attentamente i banchi di RAM del computer su cui lavora.&lt;/li&gt;
&lt;li&gt;Se non conosce il significato di una parola, il Mangiatore di Quiche consulta un dizionario. Se non conosce il significato di una parola, il VeroProgrammatore consulta una tabella di hash.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore può formattare un disco in vinile.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore può scacciare le zanzare con il RAID 5.&lt;/li&gt;
&lt;li&gt;Se ha bisogno di parlare con qualche autorità o personaggio importante, il Vero Programmatore non necessita di permessi o lasciapassare speciali: gli basta esclamare "chmod 777".&lt;/li&gt;
&lt;li&gt;Se il VeroProgrammatore non riesce a ritrovare una cravatta nell'armadio, invece di cercarla dice: "cat armadio | grep cravatta rossa".&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore, per sorridere, inclina la testa 90° a sinistra.&lt;/li&gt;
&lt;li&gt;Il VeroProgrammatore ha messo un filtro antispam nella cassetta della posta condominale.&lt;/li&gt;
&lt;/ul&gt;</summary><category term="mix"></category><category term="humor"></category></entry><entry><title>Il foionco</title><link href="http://blog.gambuzzi.it/il-foionco.html" rel="alternate"></link><updated>2014-08-21T18:28:57+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-08-21:il-foionco.html</id><summary type="html">&lt;p&gt;A volte scritto anche &lt;strong&gt;Fojonco&lt;/strong&gt;.&lt;/p&gt;
&lt;h3&gt;QUEL RAPACE CHE VA A TUTTO LAMBRUSCO&lt;/h3&gt;
&lt;p&gt;È un animale del tutto particolare il Foionco: ha tre zampe, un becco adunco e un ciuffo scomposto di piume sul capo. Inguaribile ladro di galline, è terribilmente pigro (pare faccia l'amore solo approfittando dei terremoti sussultori), ed è l'unico rapace al mondo con un debole per il buon vino. &lt;/p&gt;
&lt;p&gt;Nella notte abbandonerebbe il cinghio dove ha il proprio riparo sull'Appennino e lentamente planerebbe sulla collina e sulla pianura tra Reggio Emilia e Modena alla ricerca delle più grasse galline e dei migliori lambruschi.&lt;/p&gt;
&lt;p&gt;La leggenda popolare è nata proprio dalle parti di Pievepelago e recentemente è stata ripresa dal romanziere Giuseppe Pederiali.&lt;/p&gt;
&lt;p&gt;Ma il Foionco conta anche numerosi altri fan. Da qualche anno a questa parte le Cantine Riunite di Reggio, mirando alla valorizzazione dei lambruschi emiliani, hanno dato vita al "Club degli amici del Foionco", raccogliendo numerosi affezionati.&lt;/p&gt;
&lt;p&gt;Il club ha pubblicato un libro di storie emiliane, "Ronchi, Fumane e Foionchi", che Giuseppe Pederiali ha scritto appositamente.&lt;/p&gt;
&lt;p&gt;Ai soci viene inviata una newsletter con informazioni, servizi e notizie dal mondo del vino e vengono organizzati eventi gastronomici, cicli di lezioni sulla vite e sul vino, degustazioni, conferenze di personaggi del mondo dell'enogastronomia e visite ad aziende. &lt;/p&gt;
&lt;p&gt;Tra le iniziative c'è anche la pubblicazione sulla Gazzetta del Foionco, periodico stampato in 3.500 copie e distribuito ai soci delle Riunite e al Club gli Amici del Foionco, diretto da Pier Giorgio Oliveti. &lt;/p&gt;
&lt;p&gt;Al rapace le Cantine hanno dedicato il "Terre della Fumana", lambrusco di Sorbara doc, il "Cinghio del Foionco", lambrusco Grasparossa di Castelvetro doc, e il secco "Ronchi dell'Olma", lambrusco reggiano.&lt;/p&gt;
&lt;h3&gt;IL FOIONCO MUSTELIDE&lt;/h3&gt;
&lt;p&gt;Al buio nella notte i bambini che avevano disobbedito non potevano dormire tranquilli. Accanto al letto potevano trovarsi il "Foionco" un animaletto che s'infriltava di notte nelle case dei bambini diciamo dispettosi e bizzosi e che faceva paura con i suoi occhietti scintillanti al buio e i suoi dentini aguzzi. E i bambini non potevano non crederci perchè di tanto in tanto il Foionco faceva strage di galline nei pollai delle quali si diceva preferisse il sangue. &lt;/p&gt;
&lt;p&gt;La favola si riferisce ad un piccolo mustelide ancora oggi molto diffuso ma difficile da vedersi: la puzzola. Il termine &lt;strong&gt;FOIONCO&lt;/strong&gt; deriva dal latino tardo "&lt;em&gt;Furionicus&lt;/em&gt;" diminutivo di "&lt;em&gt;Furio&lt;/em&gt;" con cui si indicava la puzzola, il furetto.&lt;/p&gt;</summary><category term="mix"></category><category term="folclore"></category></entry><entry><title>Carta Digitale Anoto - Penna Digitale Anoto</title><link href="http://blog.gambuzzi.it/carta-digitale-anoto-penna-digitale-anoto.html" rel="alternate"></link><updated>2014-08-21T18:24:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2014-08-21:carta-digitale-anoto-penna-digitale-anoto.html</id><summary type="html">&lt;h3&gt;Usare una penna digitale - informazioni a portata di mano&lt;/h3&gt;
&lt;h4&gt;Dall'inchiostro al digitale: veloce e facile&lt;/h4&gt;
&lt;p&gt;La penna digitale sembra, scrive e si usa come una normale penna a sfera. Pero' contiene un webcam incorporata, un avanzatissimo processore di immagine e un modulo radio per la comunicazione senza fili.&lt;/p&gt;
&lt;p&gt;Usando queste penna potrete catturare e immagazzinare in modo completamente sicuro ciò che scriverete, potendo in un secondo momento convertire il tutto nel formato digitale preferito.&lt;/p&gt;
&lt;h4&gt;Cosa succede quando scrivete&lt;/h4&gt;
&lt;p&gt;combinatamente alla carta digitale, la penna digitale digitalizza la scrittura a mano nel momento stesso in cui la penna tocca il foglio. La penna legge e registra i tratti sulla carta in funzione dei sottilissimi e quasi invisibili puntini sulla carta stessa.&lt;/p&gt;
&lt;p&gt;Nel momento stesso in cui scrivete la webcam immediatamente legge le coordinate dal foglio ad una velocità fra le 50 e 100 immagini per secondo. Il tutto viene lebaorato dal processore di immagini della penna, per determinare l'esatta posizione della penna sul foglio.&lt;/p&gt;
&lt;h4&gt;Dati pronti per il trasferimento&lt;/h4&gt;
&lt;p&gt;Oltre ai tratti fatti a mano ogni penna contiene un insieme aggiuntivo di informazioni, come il proprio seriale unico, la pagina su cui si ha scritto, il formato della carta, ...&lt;/p&gt;
&lt;p&gt;Tutti i dati sono Immagazzinati nella memoria della penna. Questa memoria può contenere fino a 50 moduli A4 fittamente scritti.&lt;/p&gt;
&lt;p&gt;Una volta trasferiti i dati possono essere processati da ICR-OCR o semplicemente immagazzinati come fotoarchiviazione documentale.&lt;/p&gt;
&lt;p&gt;&lt;img alt="penna anoto" src="http://blog.gambuzzi.it/images/anotopen.jpg" /&gt;&lt;/p&gt;</summary><category term="anoto digital paper"></category></entry><entry><title>Ninja IDE nel context menu</title><link href="http://blog.gambuzzi.it/ninja-ide-nel-context-menu.html" rel="alternate"></link><updated>2013-12-04T06:59:00+01:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2013-12-04:ninja-ide-nel-context-menu.html</id><summary type="html">&lt;p&gt;Ultimamente sto usando Ninja IDE sotto Windows (32bit).
Non ho ancora deciso se mi piaccia, comunque per averlo comodo del context menu, ecco una chiave di registro che fa al caso vostro.&lt;/p&gt;
&lt;p&gt;&lt;img alt="ninjaidecontext" src="http://blog.gambuzzi.it/images/ninjaidecontext.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://blog.gambuzzi.it/extras/ninja_ide.zip"&gt;allegato&lt;/a&gt;&lt;/p&gt;</summary><category term="python"></category></entry><entry><title>Multi-Mechanize</title><link href="http://blog.gambuzzi.it/multi-mechanize.html" rel="alternate"></link><updated>2013-05-30T02:47:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2013-05-30:multi-mechanize.html</id><summary type="html">&lt;p&gt;Come installare multi-mechanize su debian e derivate.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo apt-get install python2.7-dev libfreetype6-dev libpng12-dev python-pip

sudo pip install numpy

sudo apt-get install g++

sudo pip install http://sourceforge.net/projects/matplotlib/files/matplotlib/matplotlib-1.1.0/matplotlib-1.1.0.tar.gz

sudo pip install -U multi-mechanize
&lt;/pre&gt;&lt;/div&gt;</summary><category term="python"></category><category term="debian"></category></entry><entry><title>La mia idea per rende un blocco note Anoto fruibile via internet</title><link href="http://blog.gambuzzi.it/la-mia-idea-per-rende-un-blocco-note-anoto-fruibile-via-internet.html" rel="alternate"></link><updated>2012-11-09T00:00:00+01:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2012-11-09:la-mia-idea-per-rende-un-blocco-note-anoto-fruibile-via-internet.html</id><summary type="html">&lt;p&gt;La mia idea per rende il blocco note fruibile via internet sarebbe la seguente, se l’unico dato dinamico del blocco fosse l’indirizzo a cui andare a vederlo.&lt;/p&gt;
&lt;p&gt;Calcolare l’indirizzo dal numero di pagina anoto (dato già univoco).&lt;/p&gt;
&lt;p&gt;Ad esempio se l’url di base è &lt;code&gt;http://vostroserver/blocconote/&amp;lt;codicefoglio&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Il &lt;code&gt;&amp;lt;codicefoglio&amp;gt;&lt;/code&gt; può essere una qualsiasi sequenza alfanumerica.&lt;/p&gt;
&lt;p&gt;L’indirizzo anoto è di 40 bit&lt;/p&gt;
&lt;p&gt;&lt;code&gt;0.169.12.23.234&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;3 bit + 12 bit + 12bit + 5bit +8bit = 40bit&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Possiamo usare 32 simboli su 8 posizioni, dato che 32 simboli sono 5 bit, 5x8 = 40bit. Con 64 simboli sarebbero quindi 6bit*7caratteri = 42 bit, quindi stiamo nei 40bit&lt;/p&gt;
&lt;p&gt;L’indirizzo &lt;code&gt;0.169.12.23.234&lt;/code&gt; diventa quindi&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mo"&gt;000&lt;/span&gt;
&lt;span class="mi"&gt;169&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mo"&gt;000010101001&lt;/span&gt;
&lt;span class="mi"&gt;12&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mo"&gt;000000001100&lt;/span&gt;
&lt;span class="mi"&gt;23&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;10111&lt;/span&gt;
&lt;span class="mi"&gt;234&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;11101010&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;In totale 0000000101010010000000011001011111101010&lt;/li&gt;
&lt;li&gt;Come intero 5’670’803’434&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In binario, troppo lungo e difficile da scrivere e correggere se si sbaglia.&lt;/p&gt;
&lt;p&gt;Con 32 simboli abbiamo 8 caratteri necessari, facili da scrivere e correggere.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;AFJADF5K&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Con 64 diventa&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;AFSAZfq&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Che pero’ è meno facile da scrivere perché mischia maiuscolo e minuscolo, dando come unico vantaggio l’avere 7 caratteri invece di 8.&lt;/p&gt;
&lt;p&gt;I file Postscript verrebbero creati in BATCHProcess e il codice aggiunto da un programma python che gira successivamente sui file PS.&lt;/p&gt;
&lt;p&gt;In ricezione della pagina e creazione della immagine non è necessario rimettere tale codice a mio avviso, ma si può fare. Il nome dell’immagine può rimanere quello standard di anoto, che contiene l’indirizzo, e questo necessita che la pagina &lt;code&gt;php&lt;/code&gt; di visualizzazione faccia i conti al contrario rispetto alla codifica, oppure posso salvare l’immagine con il nome calcolato. (nel primo caso non serve postprocesso dell’immagine ricevuta, nel secondo si)&lt;/p&gt;
&lt;p&gt;Dato che così si verrebbero a creare dei codici consecutivi (AFJADF5K sarebbe seguito da AFJADF5L) per evitare che si possano indovinare cosi facilmente i codici di pagina si può inserire in coda alla stringa una specie di codice di controllo calcolato in un qualche modo. Ad esempio AFJADF5K diverrebbe AFJADF5KJ e AFJADF5L diverrebbe AFJADF5LO. Abbiamo aggiunto 1 carattere e un po’ di sicurezza. Ovviamente un attacco in brute-force che le provi tutte riuscirebbe ad avere  la meglio su questa piccola protezione.&lt;/p&gt;
&lt;p&gt;Per avere una sicurezza maggiore si dovrebbe allungare il codice diluendo quindi i risultati validi e impostando un IP-ban temporaneo se vengono fatte troppe richieste errate di fila.
Per aumentare ulteriormente la sicurezza si potrebbe associare una password casuale ad ogni blocco note, scrivendola sulla copertina.&lt;/p&gt;
&lt;p&gt;Nel DB del web server si salva gamma-di-indirizzi e la password&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ADDR&lt;/th&gt;
&lt;th&gt;PASSWD&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;0.169.12.23.*&lt;/td&gt;
&lt;td&gt;xxxxxxxxxx&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Il web server prima di visualizzare la pagina chiede la password e la salva da qualche parte(così se uno controlla più pagine dello stesso blocco note non lo molesta chiedendo la password ogni foglio)&lt;/p&gt;
&lt;p&gt;In alternativa si potrebbe (per non avere sempre blocchi da 256 pagine):&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;DA&lt;/th&gt;
&lt;th&gt;A&lt;/th&gt;
&lt;th&gt;PASSWD&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;AFJADFYA&lt;/td&gt;
&lt;td&gt;AFJADF55&lt;/td&gt;
&lt;td&gt;xxxxxxxxxx&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;I codici sopra riportati sono stati creati così&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;string&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;int2bin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;24&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;code&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cifre&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;ncifre&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;lc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cifre&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;ret&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;&amp;#39;&lt;/span&gt;
    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;ncifre&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="n"&gt;ncifre&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;ret&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cifre&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;lc&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;ret&lt;/span&gt;
        &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;lc&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;ncifre&lt;/span&gt; &lt;span class="o"&gt;-=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ret&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;crc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cifre&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;ret&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;ret&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
        &lt;span class="n"&gt;ret&lt;/span&gt; &lt;span class="o"&gt;^=&lt;/span&gt; &lt;span class="nb"&gt;ord&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;cifre&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;ret&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cifre&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;

&lt;span class="n"&gt;bits&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;indirizzo&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;0.169.12.23.234&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)[::&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;indirizzo&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;bits&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="nb"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bits&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;    
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;int2bin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;40&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;cod&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ascii_uppercase&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;digits&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;cod&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ascii_uppercase&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ascii_lowercase&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;digits&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;+/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;crc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;cod&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ascii_uppercase&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;digits&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="python"></category><category term="anoto digital paper"></category></entry><entry><title>Scrivete software riutilizzabile</title><link href="http://blog.gambuzzi.it/scrivete-software-riutilizzabile.html" rel="alternate"></link><updated>2012-10-22T00:00:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2012-10-22:scrivete-software-riutilizzabile.html</id><summary type="html">&lt;p&gt;Oppure anche &lt;strong&gt;no&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Ieri mi è servito un pezzo di codice che sapevo di avere scritto 2 anni fa. Mi ricordavo di averlo scritto modulare, a oggetti, con dipendenze iniettabili. Fico fino a qui.&lt;/p&gt;
&lt;p&gt;In circa mezz'ora lo ho trovato (da allora ho migrato per 2 differenti server e 3 portatili).
Ovviamente riprovandolo alcune piccole cose da allora erano cambiate.&lt;/p&gt;
&lt;p&gt;Nel metterci le mani mi sono pero' accorto che alcuni pezzi di codice erano migliorabili, passa il tempo e si impara a programmare meglio per fortuna.&lt;/p&gt;
&lt;p&gt;Cominciando a lavorarci, arrivo alla mezz'ora di lavoro, senza un prodotto finito.
Butto tutto nel rusco e riparto.&lt;/p&gt;
&lt;p&gt;15 minuti e ho una libreria fatta meglio (come detto prima in due anni si migliora tanto), più veloce e modellata sull'attuale problema.&lt;/p&gt;
&lt;p&gt;Questo mi insegna a... scrivere codice che serva ora, a patto che non lo si voglia ridistribuire come framework.&lt;/p&gt;</summary><category term="mix"></category></entry><entry><title>Indispensabile</title><link href="http://blog.gambuzzi.it/indispensabile.html" rel="alternate"></link><updated>2012-10-20T00:00:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2012-10-20:indispensabile.html</id><summary type="html">&lt;p&gt;Nel 2012 ancora i programmatori fanno fatica con le date. La settimana scorsa un senior PHP che tiene anche corsi in giro per Europa ha sbagliato a fare una differenza di date. Capita. Ha sbagliato in un test. Chi testa i test? Nessuno.&lt;/p&gt;
&lt;p&gt;Ecco, a proposito, per tutti i pythonisti uno schemino da incorniciare.&lt;/p&gt;
&lt;p&gt;&lt;img alt="python_date" src="http://blog.gambuzzi.it/images/python_date.png" /&gt;&lt;/p&gt;</summary><category term="python"></category><category term="datetime"></category></entry><entry><title>Test Driven Development - Rischi</title><link href="http://blog.gambuzzi.it/test-driven-development-rischi.html" rel="alternate"></link><updated>2012-09-20T00:00:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2012-09-20:test-driven-development-rischi.html</id><summary type="html">&lt;p&gt;I rischi di un approccio troppo entusiastico al TDD ci sono e sono vari. Alcuni buoni principi da usare sono:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mai testare le cose semplici, se sono veramente semplici non si romperanno. Il concetto di semplice si sposta in base all'esperienza del programmatore. Questo è utile per fare maturare tutti. Il TDD cerca di mettere Junior e Senior tutti sullo stesso livello, sbagliando.&lt;/li&gt;
&lt;li&gt;Affidare interamente il design del proprio applicativo al TDD rischia di generare architetture fallimentari, se i test sono troppo invasivi. Avendo programmatori esperti si può fare un buon design senza bisogno del TDD. C'era una volta una ditta che ava benefit in denaro ai programmatori che coprivano più dell'80% del proprio codice con test. Questo generò un proliferare di microfunzioni sparse in mille classsi, che rese l'architettura insostenibile per le macchine stesse; questa pratica fu poi abbandonata ed il codice riscritto da zero con una perdita incalcolabile.&lt;/li&gt;
&lt;li&gt;Se vedete che state perdendo tempo per scrivere un test e questo tempo diventa di più di quello che avete impiegato per il codice stesso, non testatelo, il debug costerà meno del test.&lt;/li&gt;
&lt;li&gt;Se dovete fare modifiche alla architettura sistemistica per rendere testabile il codice, state sbagliando.&lt;/li&gt;
&lt;li&gt;Aggiungere layer di astrazione non risolve i problemi.&lt;/li&gt;
&lt;li&gt;Le persone vanno messe prima delle metodologie, questo lo dice anche il manifesto &lt;strong&gt;AGILE&lt;/strong&gt;. Se una persona è brillante, l'essere chiusa e inquadrata in una metodologia, che va bene per una scimmia con problemi di apprendimento, porta ad un malcontento, rischiando di sprecare la risorsa che avete fatto tanto fatica a trovare e formare.&lt;/li&gt;
&lt;li&gt;Un cliente capisce difficilmente perché sarete più lenti di un vostro competitor nel fornire un software, a meno che voi non siate bravissimi a spiegargli che così facendo risparmieranno soldi nel futuro (meno bug e manutenzioni più veloci). &lt;em&gt;"So from a business standpoint, test driven development sucks as a selling tool."&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Fate pagare il bugfix da contratto? Se lo fate pagare il TDD non è per voi (e forse nemmeno i test in generale).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I test sono utilissimi, ma il testare prima è sopravvalutato e abusato. Speriamo che questa moda passi.&lt;/p&gt;</summary><category term="mix"></category><category term="tdd"></category><category term="agile"></category></entry><entry><title>La decostruzione dell'analisi</title><link href="http://blog.gambuzzi.it/la-decostruzione-dellanalisi.html" rel="alternate"></link><updated>2012-09-03T00:00:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2012-09-03:la-decostruzione-dellanalisi.html</id><summary type="html">&lt;p&gt;Fare analisi è come fare un interrogatorio, servono doti che non tutti hanno. Gli interrogati sono pero' nostri clienti, il che rende tutto più difficile. E' necessario non intimidire e, se si ha a che fare con dei dipendenti, non fare loro capire che il nuovo software potrebbe sostituirne tutto il lavoro con 2 click...&lt;/p&gt;
&lt;p&gt;Una analisi costa, o, perlomeno, dovrebbe costare. In Italia c'è la tendenza a non fare pagare questa fase dello sviluppo, che è quella più difficile, professionale e critica.&lt;/p&gt;
&lt;p&gt;E' come se uno volesse una casa, e pretendesse che il progetto fosse gratis, pagando solo le spese di realizzazione.&lt;/p&gt;
&lt;p&gt;Una belle buzzword del momento è '&lt;em&gt;Agile&lt;/em&gt;'. Invece di fare una forte analisi a monte, si spalma l'analisi durante lo sviluppo stesso. Questo permette a programmatori meno brillanti e dotati di fare comunque analisi. Aumentando i costi. L'analisi viene confusa con lo sviluppo, creando una amalgama non meglio definibile.&lt;/p&gt;
&lt;p&gt;Una buona analisi richiede anche un cliente (o chi per lui) preparato e intelligente.
Se non si riscoprirà l'importanza di una buona analisi (e lo stesso discorso vale per la documentazione) per qualche anno i progetti software avranno dei problemi di realizzazione.&lt;/p&gt;</summary><category term="mix"></category><category term="agile"></category></entry><entry><title>Parser di espressioni aritmetiche</title><link href="http://blog.gambuzzi.it/parser-di-espressioni-aritmetiche.html" rel="alternate"></link><updated>2012-07-12T00:00:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2012-07-12:parser-di-espressioni-aritmetiche.html</id><summary type="html">&lt;p&gt;Che bisogno c'è di scrivere un parse per qualcosa che può essere valutata più efficientemente da un &lt;code&gt;eval&lt;/code&gt;? Direi nessuna, ma questo esercizio è stato il preludio (2005) ad un parser più complicato che pubblicherò in futuro.&lt;/p&gt;
&lt;p&gt;Data una stringa&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="s"&gt;&amp;quot;((1+2)*4+1)*6/(2+1)&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Le regex non ci possono venire in aiuto più di tanto per la mancanza di un sistema di bilanciamento dei match multipli. Alcuni altri motori regex (credo quello del C#) hanno questa funzione, ma (almeno nel 2005) python non lo ha.&lt;/p&gt;
&lt;p&gt;L'idea è quella di elaborare le parentesi più interne e poi sostituirne il valore (togliendo quindi le parentesi), procedendo così fino a non avere più parentesi. Alla fine si valuta l'espressione risultante.&lt;/p&gt;
&lt;p&gt;Per processare prima le espressioni più interne si parte cercando la prima parentesi chiusa, con un &lt;code&gt;stringa.find(')')&lt;/code&gt;, poi da questo punto si cerca la parentesi aperta più a destra nella stringa con un &lt;code&gt;stringa.rfind('(',0,posizione_parentesi_chiusa)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Una altra cosa da fare è valutare la precedenza degli operatori, per rendere vere le asserzioni:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;splitta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;1+2*3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;+&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;*&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;splitta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;1+2+3+4*4&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;+&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,[&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;*&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;4&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;4&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Partiamo da qui. Dividiamo la stringa con lo split delle stringhe python.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;stringa&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;+&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;2*3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;per ogni elemento della lista applico lo split per &lt;code&gt;'-'&lt;/code&gt;, poi per &lt;code&gt;'*'&lt;/code&gt; e per &lt;code&gt;'/'&lt;/code&gt;. Abbiamo di fatto implementato la precedenza degli operatori. Dobbiamo però segnarci quale operatore ha dato origine allo split. Quindi la funzione risultante è:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;splitta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
            &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;splitta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;
    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;op&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;+-/*&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;op&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;op&lt;/span&gt;
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;splitta&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;La funzione fa uso della ricorsione per splittare gli elementi successivi, e pone l'operatore in testa alla lista che si ottiene dallo split.&lt;/p&gt;
&lt;p&gt;Per ottenere un valore numerico da questa lista si deve quindi partire dalle liste più interne. &lt;/p&gt;
&lt;p&gt;Vediamo ora come fare una funzione che ci dia un risultato.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;parse&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;+&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;*&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;7.0&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;commentiamo la funzione.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;parse&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;case&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="s"&gt;&amp;#39;+&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
        &lt;span class="s"&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
        &lt;span class="s"&gt;&amp;#39;*&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
        &lt;span class="s"&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="c"&gt;#se non ho una lista restituisco il valore&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="c"&gt;#controllo che non ci siano sottoliste&lt;/span&gt;
        &lt;span class="n"&gt;term&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;term&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;
                &lt;span class="k"&gt;break&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;term&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="c"&gt;#nessuna sottolista&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="nb"&gt;reduce&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;case&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="c"&gt;#ci sono sottoliste, ne sostituisco i valori e mi richiamo&lt;/span&gt;
            &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
                &lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;parse&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;parse&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="c"&gt;#l&amp;#39;input non era una lista, lo restituisco dritto.&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Spieghiamo più nel dettaglio la riga &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="nb"&gt;reduce&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;case&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt; &lt;span class="n"&gt;lista&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Python non ha costrutto switch-case. Le tecniche di programmazione ad oggetti più estreme dicono di non usare più questo costrutto, ma di creare una factory di oggetti che implementano una interfaccia comune, che variano nel comportamento come cambierebbero i vari rami dello switch-case. Estremizzano questo discorso anche all'uso degli else.&lt;/p&gt;
&lt;p&gt;Qui più semplicemente uso il dizionario case, per avere una funzione per ogni operatore. Le stringhe vengono considerate convertite in float.&lt;/p&gt;
&lt;p&gt;Quindi:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;lista[0]&lt;/code&gt; è l'operatore&lt;/li&gt;
&lt;li&gt;&lt;code&gt;case[lista[0]]&lt;/code&gt; è una funzione che il reduce chiamerà&lt;/li&gt;
&lt;li&gt;&lt;code&gt;lista[1:]&lt;/code&gt; è l'insieme dei valori su cui operare&lt;/li&gt;
&lt;li&gt;&lt;code&gt;reduce&lt;/code&gt; chiama la funzione su tutta la lista, una coppia alla volta.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;str&lt;/code&gt; mi serve per potere poi rimettere il valore nella stringa partenza, se la lista che sto processando veniva da un blocco fra parentesi tonde.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Mettiamo ora insieme le due funzioni per elaborare espressioni con le parentesi.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;esegui&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;espressione&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="c"&gt;#mentre ho ancora parentesi nella stringa  espressione &lt;/span&gt;
    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="n"&gt;espressione&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;_end&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;espressione&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;_begin&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;espressione&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rfind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;(&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;_end&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="c"&gt;#sostituisco il blocco di parentesi col suo valore&lt;/span&gt;
        &lt;span class="n"&gt;espressione&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;espressione&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="n"&gt;_begin&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;esegui&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;espressione&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_begin&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;_end&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;espressione&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_end&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt;
    &lt;span class="c"&gt;#qui non avrò parentesi&lt;/span&gt;
    &lt;span class="n"&gt;ops&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;splitta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;espressione&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;parse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ops&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ammetto che bastava un &lt;code&gt;eval&lt;/code&gt; per tutto questo, ma come dicevo prima, questo esercizio aiuta a pensare a come si possono parsare espressioni, senza usare librerie di parsing python che richiedono l'uso pesante di regex, perché ricordiamoci:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;"Quando hai un problema ed usi una regex per risolverlo... ti troverai con 2 problemi"&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;E se volessimo avere dei numeri negativi? es: &lt;code&gt;-1*3&lt;/code&gt;&lt;/p&gt;</summary><category term="python"></category></entry><entry><title>Quick Sort</title><link href="http://blog.gambuzzi.it/quick-sort.html" rel="alternate"></link><updated>2012-05-09T08:44:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2012-05-09:quick-sort.html</id><summary type="html">&lt;p&gt;Non è molto performante ma illustra le capacità di linguaggio funzionale di Python&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="s-Atom"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;qs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s-Atom"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="s-Atom"&gt;:&lt;/span&gt;
    &lt;span class="s-Atom"&gt;return&lt;/span&gt; &lt;span class="s-Atom"&gt;x&lt;/span&gt; &lt;span class="s-Atom"&gt;if&lt;/span&gt; &lt;span class="nf"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s-Atom"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt; &lt;span class="s-Atom"&gt;else&lt;/span&gt; &lt;span class="nf"&gt;qs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s-Atom"&gt;lambda&lt;/span&gt; &lt;span class="nn"&gt;y&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s-Atom"&gt;y&amp;lt;=x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="s-Atom"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[:-&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s-Atom"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nf"&gt;qs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s-Atom"&gt;lambda&lt;/span&gt; &lt;span class="nn"&gt;y&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s-Atom"&gt;y&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="s-Atom"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s-Atom"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[:-&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="python"></category></entry><entry><title>Fattoriale</title><link href="http://blog.gambuzzi.it/fattoriale.html" rel="alternate"></link><updated>2012-04-29T14:04:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2012-04-29:fattoriale.html</id><summary type="html">&lt;p&gt;Fattoriale minimale!&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;fattoriale&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;reduce&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="python"></category></entry><entry><title>Decoratore con parametri procedurale</title><link href="http://blog.gambuzzi.it/decoratore-con-parametri-procedurale.html" rel="alternate"></link><updated>2012-04-21T12:03:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2012-04-21:decoratore-con-parametri-procedurale.html</id><summary type="html">&lt;p&gt;Ecco uno stralcio di codice per decorare una funzione. Nello specifico questo decoratore si segna in un dizionario tutte le funzioni decorate con lo stesso parametro. E' stato il prototipo per il decoratore di &lt;strong&gt;route&lt;/strong&gt; per un piccolo framework web che stavo sviluppando.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;from&lt;/span&gt; &lt;span class="n"&gt;collections&lt;/span&gt; &lt;span class="n"&gt;import&lt;/span&gt; &lt;span class="n"&gt;defaultdict&lt;/span&gt;
&lt;span class="n"&gt;MODELS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;defaultdict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;list&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;def&lt;/span&gt; &lt;span class="n"&gt;route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;_route&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;def&lt;/span&gt; &lt;span class="n"&gt;wrap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;def&lt;/span&gt; &lt;span class="n"&gt;wrapped_f&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;argt&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;argd&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;argt&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;argd&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;MODELS&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_route&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;wrapped_f&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;wrapped_f&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;wrap&lt;/span&gt;

&lt;span class="err"&gt;@&lt;/span&gt;&lt;span class="n"&gt;route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sc"&gt;&amp;#39;s&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;def&lt;/span&gt; &lt;span class="n"&gt;gallerie&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;

&lt;span class="n"&gt;print&lt;/span&gt; &lt;span class="n"&gt;MODELS&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;gallerie&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;In pratica la funzione &lt;code&gt;route&lt;/code&gt; restituisce la funzione decoratrice &lt;code&gt;wrap&lt;/code&gt;, la quale a sua volta restituisce una funzione wrappata che non fa nulla se non chiamare la funzione originale. Nel frattempo si segna in un dizionario di liste le funzioni collegate a 's'.
Nella mia idea c'era l'intenzione di decorare tutte le funzioni con una regex da far matchare con l'url richiesta, con tanto di gruppi estratti con un &lt;code&gt;findall&lt;/code&gt; e passati come parametro alla funzione decorata.&lt;/p&gt;</summary><category term="python"></category></entry><entry><title>Aggiungere la funzione trim alla classe String</title><link href="http://blog.gambuzzi.it/aggiungere-la-funzione-trim-alla-classe-string.html" rel="alternate"></link><updated>2012-01-16T05:24:00+01:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2012-01-16:aggiungere-la-funzione-trim-alla-classe-string.html</id><summary type="html">&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nb"&gt;String&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;prototype&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;trim&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sr"&gt;/^\s*/&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sr"&gt;/\s*$/&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;è stato preferito fare così, piuttosto che&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nb"&gt;String&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;prototype&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;trim&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sr"&gt;/^\s*|\s*$/&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;per motivi di performance.&lt;/p&gt;</summary><category term="javascript"></category></entry><entry><title>Game Of War</title><link href="http://blog.gambuzzi.it/game-of-war.html" rel="alternate"></link><updated>2011-10-17T06:15:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2011-10-17:game-of-war.html</id><summary type="html">&lt;p&gt;Questo è il mio primo esperimento di programma con la libreria PyGame.&lt;/p&gt;
&lt;p&gt;Non ha interazione con l'utente, è una simulazione di scontro su un campo aperto.&lt;/p&gt;
&lt;p&gt;È un prototipo per una possibile evoluzione futura in un giochino di strategia.&lt;/p&gt;
&lt;p&gt;Il sorgente è un po' lungo da commentare.&lt;/p&gt;
&lt;p&gt;La cosa che più mi ha interessato sono le due classi &lt;em&gt;Marine&lt;/em&gt; e &lt;em&gt;Ghost&lt;/em&gt; che ereditano dalla classe &lt;em&gt;Pawn&lt;/em&gt;, che di per sè non è nulla, ma che gestisce i movimenti ed il fuoco di base.&lt;/p&gt;
&lt;p&gt;Il &lt;em&gt;Ghost&lt;/em&gt; reimplementa la routine di fuoco, il &lt;em&gt;Marine&lt;/em&gt; no.
Quando queste classi chiamano il costruttore della super-classe, passano anche loro stesse come parametro (&lt;em&gt;clazz&lt;/em&gt;). &lt;/p&gt;
&lt;p&gt;Non ho trovato un modo più elegante di farlo. Funziona ma mi piace poco.&lt;/p&gt;
&lt;p&gt;In testa a file dopo gli &lt;em&gt;import&lt;/em&gt; ci sono varie costanti, fra qui &lt;em&gt;FPS&lt;/em&gt; che può limitare il frame al secondo visualizzati e il numero di squadre e di classi per un tipo e per l'altro.&lt;/p&gt;
&lt;p&gt;Divertitevi pure a giocare con questo sorgente e fatemi sapere le Vostre opinioni.&lt;/p&gt;
&lt;p&gt;&lt;img alt="ninjaidecontext" src="http://blog.gambuzzi.it/images/gameofwar.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://blog.gambuzzi.it/extras/GameOfWar.rar"&gt;allegato&lt;/a&gt;&lt;/p&gt;</summary><category term="python"></category></entry><entry><title>Creatore di PDF con carte</title><link href="http://blog.gambuzzi.it/creatore-di-pdf-con-carte.html" rel="alternate"></link><updated>2011-10-17T06:09:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2011-10-17:creatore-di-pdf-con-carte.html</id><summary type="html">&lt;p&gt;Questo progetto nasce per stamparsi le carte di magic per poi ritagliarle.
Trovandosi a giocare fra amici non c'è la necessità di possedere realmente le carte, basta per convenzione avere i mazzi con queste 'copie ed uso personale'.
Altro scopo dei mazzi cosi fatti è non rovinare la propria collezione di carte.&lt;/p&gt;
&lt;p&gt;&lt;img alt="screenshot" src="http://blog.gambuzzi.it/images/mazzomaker.png" /&gt;&lt;/p&gt;
&lt;p&gt;Il programma è molto semplice&lt;/p&gt;
&lt;p&gt;Richiede le librerie:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CherryPy&lt;/li&gt;
&lt;li&gt;ReportLab&lt;/li&gt;
&lt;li&gt;PIL (Python Image Library)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Il file config.py contiene il seguente codice&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;origine_carte&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;carte&lt;/span&gt;&lt;span class="o"&gt;/*&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jpg&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt; &lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="n"&gt;percorsi&lt;/span&gt; &lt;span class="n"&gt;separati&lt;/span&gt; &lt;span class="n"&gt;da&lt;/span&gt; &lt;span class="n"&gt;punto&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt; &lt;span class="n"&gt;virgola&lt;/span&gt; &lt;span class="sc"&gt;&amp;#39;;&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;matrice&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;spaziatura&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.05&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.05&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;dimensione&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;5.9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;8.39&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;rotazione&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.0&lt;/span&gt;
&lt;span class="n"&gt;carta&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;21.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;29.7&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;in questo file viene specificato dove prendere le carte (1° riga), quante metterne per pagina, distanziate quanto l'una dall'altra, con quale dimensione, se ruotarle (vedremo poi che era stata prevista questa funzionalità ma non è stata mai implementata) e la dimensione del foglio.&lt;/p&gt;
&lt;p&gt;Tutte le dimensioni sono in Centimetri.&lt;/p&gt;
&lt;p&gt;Passiamo ora al programma vero e proprio&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nb"&gt;from&lt;/span&gt; &lt;span class="nx"&gt;reportlab.pdfgen.canvas&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="nx"&gt;Canvas&lt;/span&gt;
&lt;span class="nb"&gt;from&lt;/span&gt; &lt;span class="nx"&gt;reportlab.lib.units&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="nx"&gt;cm&lt;/span&gt;
&lt;span class="nb"&gt;from&lt;/span&gt; &lt;span class="nx"&gt;glob&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="nx"&gt;glob&lt;/span&gt;
&lt;span class="nb"&gt;from&lt;/span&gt; &lt;span class="nx"&gt;PIL&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="nb"&gt;Image&lt;/span&gt;
&lt;span class="vi"&gt;#from&lt;/span&gt; &lt;span class="nx"&gt;math&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="nb"&gt;sin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;cos&lt;/span&gt;
&lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="nx"&gt;cherrypy&lt;/span&gt;
&lt;span class="nb"&gt;from&lt;/span&gt; &lt;span class="nx"&gt;os.path&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="nx"&gt;abspath&lt;/span&gt;
&lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="nx"&gt;subprocess&lt;/span&gt;
&lt;span class="vi"&gt;#from&lt;/span&gt; &lt;span class="nx"&gt;win32com.client&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="nx"&gt;Dispatch&lt;/span&gt;
&lt;span class="nb"&gt;from&lt;/span&gt; &lt;span class="nx"&gt;sys&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="nx"&gt;argv&lt;/span&gt;
&lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="nb"&gt;time&lt;/span&gt;
&lt;span class="nb"&gt;from&lt;/span&gt; &lt;span class="nx"&gt;random&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="nx"&gt;randint&lt;/span&gt;

&lt;span class="nb"&gt;from&lt;/span&gt; &lt;span class="nx"&gt;config&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;

&lt;span class="nx"&gt;def&lt;/span&gt; &lt;span class="nx"&gt;crea&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;fs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;offset&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;carta&lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;x&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;-spaziatura&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;x&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;*(matrice&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;x&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;-1)-matrice&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;x&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;*dimensione&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;x&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;)/2 for x in xrange(2)] #centratura
    pdf = Canvas(&amp;#39;mazzo.pdf&amp;#39;, pagesize=&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;x&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="nx"&gt;cm&lt;/span&gt; &lt;span class="nb"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="nx"&gt;carta&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;)
    x = 0
    y = 0
    for f in fs:
        for i in xrange(int(fs&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;f&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;)):
            pdf.drawImage(f, (offset&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;+x*(dimensione&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;+spaziatura&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;))*cm , \
                (offset&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;+(matrice&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;-1-y)*(dimensione&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;+spaziatura&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;))*cm , dimensione&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;*cm , dimensione&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;*cm)
            x += 1
            x %= matrice&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;
            if x==0:
                y += 1
                y %= matrice&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;
            if x==0 and y==0:
                pdf.showPage()
    pdf.save()

class MazzoMaker(object):
    def __init__(self):
#        IE = Dispatch(&amp;quot;InternetExplorer.Application&amp;quot;)
#        IE.Visible = True
#        IE.Navigate(&amp;quot;http://localhost:8080/&amp;quot;)
#        subprocess.Popen(&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;CMD.EXE&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/c&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;ping 127.0.0.1 -n 2 &amp;amp; start http://localhost:8080/&amp;quot;&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;)
        pass

    def redir(self):
        yield &amp;quot;Please Wait...&amp;quot;
        time.sleep(1)
        raise cherrypy.HTTPRedirect(&amp;#39;/&amp;#39;)
    redir.exposed = True

    def index(self):    
        submit = &amp;#39;&lt;span class="nt"&gt;&amp;lt;p&amp;gt;&amp;lt;input&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;Submit&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Crea PDF&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;/p&amp;gt;&lt;/span&gt;&amp;#39;
        ret =  &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;lt;html&amp;gt;&amp;lt;head&amp;gt;&amp;lt;title&amp;gt;Mazzo Maker&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt;&amp;lt;body&amp;gt;&amp;lt;h1&amp;gt;Mazzo Maker&amp;lt;/h1&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;
        ret.append(&amp;#39;&lt;span class="nt"&gt;&amp;lt;form&lt;/span&gt; &lt;span class="na"&gt;method=&lt;/span&gt;&lt;span class="s"&gt;post&lt;/span&gt; &lt;span class="na"&gt;action=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;creamazzo&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&amp;#39;)
        ret.append(submit)
        for f in glob(&amp;#39;temp/*.jpg&amp;#39;):
            ret.append(&amp;#39;&lt;span class="nt"&gt;&amp;lt;img&lt;/span&gt; &lt;span class="na"&gt;src=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;%s&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;width=&lt;/span&gt;&lt;span class="s"&gt;200px&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;Quantita&lt;span class="nt"&gt;&amp;lt;input&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;%s&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;Text&lt;/span&gt; &lt;span class="na"&gt;lenght=&lt;/span&gt;&lt;span class="s"&gt;2&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;0&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&amp;#39; \
                        % ( f.replace(&amp;#39;\\&amp;#39;,&amp;#39;/&amp;#39;), f ) )
        ret.append(submit)
        ret.append(&amp;#39;&lt;span class="nt"&gt;&amp;lt;/form&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&lt;/span&gt;&amp;#39;)
        return &amp;#39;\n&amp;#39;.join(ret)
    index.exposed = True

    def creamazzo(self, *args, **key):
        crea(key)
        return cherrypy.lib.static.serve_file(abspath(&amp;#39;mazzo.pdf&amp;#39;),&amp;quot;application/pdf&amp;quot;, &amp;quot;attachment&amp;quot;)
    creamazzo.exposed = True

porta = randint(8080,10000)

cfg = &amp;quot;&amp;quot;&amp;quot;\
&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="bp"&gt;global&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;
server.socket_port = %i
server.thread_pool = 10
tools.sessions.on = True
tools.staticdir.root = &amp;quot;%s&amp;quot;

&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;temp&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;
tools.staticdir.on = True
tools.staticdir.dir = &amp;quot;temp&amp;quot;
&amp;quot;&amp;quot;&amp;quot; % (porta,argv&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="cp"&gt;][&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nx"&gt;argv&lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;.rfind(&amp;#39;\\&amp;#39;)].replace(&amp;#39;\\&amp;#39;,&amp;#39;/&amp;#39;))

open(&amp;#39;config.cfg&amp;#39;,&amp;#39;w&amp;#39;).write(cfg)

for gf in origine_carte.split(&amp;#39;;&amp;#39;):
    for f in glob(gf):
        fdest = &amp;#39;temp\\&amp;#39; + f&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;f.replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="bp"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;rfind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;
        fdest = fdest&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nx"&gt;fdest.rfind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt; + &amp;#39;.jpg&amp;#39;
        Image.open(f).rotate(rotazione, expand=1).save(fdest, quality=100)

subprocess.Popen(&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;CMD.EXE&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/c&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;start http://localhost:%i/redir&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="nx"&gt;porta&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;)
cherrypy.quickstart(MazzoMaker(),config=&amp;#39;config.cfg&amp;#39;)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;La funzione &lt;em&gt;crea&lt;/em&gt; prende una lista di carte (&lt;em&gt;fs&lt;/em&gt;) e crea un file PDF sul disco.&lt;/p&gt;
&lt;p&gt;L'inizializzazione del programma è molto grezza si compone di:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;scelta di una porta a caso del localhost, nessun check, si spera nella fortuna.&lt;/li&gt;
&lt;li&gt;scrittura del file di configurazione del cherrypy&lt;/li&gt;
&lt;li&gt;creazione delle immagini temporanee per la pagina html generata dall'index (vedremo dopo)&lt;/li&gt;
&lt;li&gt;lancia il broswer sul localhost...&lt;/li&gt;
&lt;li&gt;...sperando che il cherrypy si avvii in tempo ^_^&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;La classe del cherrypy si compone fondamentalmente di una pagina &lt;em&gt;index&lt;/em&gt; e di un metodo per il FORM HTML che viene POSTato con le quantità delle carte. Per grandi quantità di carte si è rivelato un po scomodo, ma se uno sa già quali carte servono e mette solo quelle va benissimo.&lt;/p&gt;
&lt;p&gt;Un programma molto semplice, realizzato molto in fretta (una pausa pranzo) e che svolge la sua funzione egregiamente direi.&lt;/p&gt;
&lt;p&gt;Chiunque abbia idee o migliorie è libero di dirmele e prendere questo codice come spunto per qualsiasi sua idea.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://blog.gambuzzi.it/extras/cartemagic.rar"&gt;allegato&lt;/a&gt;&lt;/p&gt;</summary><category term="python"></category></entry><entry><title>Lettura di un file PGC</title><link href="http://blog.gambuzzi.it/lettura-di-un-file-pgc.html" rel="alternate"></link><updated>2011-03-02T04:24:00+01:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2011-03-02:lettura-di-un-file-pgc.html</id><summary type="html">&lt;p&gt;Qui allegato troverete un file che apre tutti i file PGC della cartella in cui si trova e stampa più informazioni possibili su di esso e sui tratti in esso contenuti.&lt;/p&gt;
&lt;p&gt;Lo script usa 3 serivizi COM di Anoto&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AnotoUtil.File&lt;/li&gt;
&lt;li&gt;Anoto.ServiceAPI.PenRequest&lt;/li&gt;
&lt;li&gt;AnotoUtil.PenID&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;La struttura che legge i tratti dalla penna viene inizializzata dalla riga&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;pr&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Initialize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Dopodichè sono tutte chiamate all'oggetto PenRequest&lt;/p&gt;
&lt;p&gt;&lt;a href="http://blog.gambuzzi.it/extras/proveanotopenna.py"&gt;allegato&lt;/a&gt;&lt;/p&gt;</summary><category term="python"></category><category term="anoto digital paper"></category></entry><entry><title>Hyperlink su tutte le email di un documento</title><link href="http://blog.gambuzzi.it/hyperlink-su-tutte-le-email-di-un-documento.html" rel="alternate"></link><updated>2010-11-23T08:52:00+01:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2010-11-23:hyperlink-su-tutte-le-email-di-un-documento.html</id><summary type="html">&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;body&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;innerHTML&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;body&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;innerHTML&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sr"&gt;/([a-zA-Z0-9_.-]+@[a-zA-Z0-9-.]+\.[a-zA-Z0-9]{2,4})/gi&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;a href=&amp;quot;mailto:$1&amp;quot;&amp;gt;$1&amp;lt;/a&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Con questo codice si sostituisce ogni mail trovata nel documento con un link cliccabile ad essa. Si potrebbe raffinare la regular expression per il match di email che non abbiano già un hyperlink intorno ad esse.&lt;/p&gt;</summary><category term="javascript"></category></entry><entry><title>Base64</title><link href="http://blog.gambuzzi.it/base64.html" rel="alternate"></link><updated>2010-11-23T01:45:00+01:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2010-11-23:base64.html</id><summary type="html">&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;Base64&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;

    &lt;span class="c1"&gt;// private property&lt;/span&gt;
    &lt;span class="nx"&gt;_keyStr&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;

    &lt;span class="c1"&gt;// public method for encoding&lt;/span&gt;
    &lt;span class="nx"&gt;encode&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;input&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;output&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;chr1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;chr2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;chr3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;enc1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;enc2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;enc3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;enc4&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="nx"&gt;input&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;Base64&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;_utf8_encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;input&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;i&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="nx"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;length&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;

            &lt;span class="nx"&gt;chr1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;charCodeAt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="nx"&gt;chr2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;charCodeAt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="nx"&gt;chr3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;charCodeAt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

            &lt;span class="nx"&gt;enc1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;chr1&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="nx"&gt;enc2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nx"&gt;chr1&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;chr2&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="nx"&gt;enc3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nx"&gt;chr2&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;chr3&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="nx"&gt;enc4&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;chr3&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="mi"&gt;63&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;isNaN&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;chr2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="nx"&gt;enc3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;enc4&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;64&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;isNaN&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;chr3&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="nx"&gt;enc4&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;64&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;

            &lt;span class="nx"&gt;output&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;output&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;_keyStr&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;charAt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;enc1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;_keyStr&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;charAt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;enc2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;_keyStr&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;charAt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;enc3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;_keyStr&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;charAt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;enc4&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nx"&gt;output&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;},&lt;/span&gt;

    &lt;span class="c1"&gt;// public method for decoding&lt;/span&gt;
    &lt;span class="nx"&gt;decode&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;input&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;output&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;chr1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;chr2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;chr3&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;enc1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;enc2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;enc3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;enc4&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="nx"&gt;input&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sr"&gt;/[^A-Za-z0-9\+\/\=]/g&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;i&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="nx"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;length&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;

            &lt;span class="nx"&gt;enc1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;_keyStr&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;indexOf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;charAt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
            &lt;span class="nx"&gt;enc2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;_keyStr&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;indexOf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;charAt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
            &lt;span class="nx"&gt;enc3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;_keyStr&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;indexOf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;charAt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
            &lt;span class="nx"&gt;enc4&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;_keyStr&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;indexOf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;input&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;charAt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;

            &lt;span class="nx"&gt;chr1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;enc1&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;enc2&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="nx"&gt;chr2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nx"&gt;enc2&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;enc3&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="nx"&gt;chr3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nx"&gt;enc3&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="nx"&gt;enc4&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

            &lt;span class="nx"&gt;output&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;output&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nb"&gt;String&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;fromCharCode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;chr1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;enc3&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="mi"&gt;64&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="nx"&gt;output&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;output&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nb"&gt;String&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;fromCharCode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;chr2&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;enc4&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="mi"&gt;64&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="nx"&gt;output&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;output&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nb"&gt;String&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;fromCharCode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;chr3&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="nx"&gt;output&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;Base64&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;_utf8_decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;output&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nx"&gt;output&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="p"&gt;},&lt;/span&gt;

    &lt;span class="c1"&gt;// private method for UTF-8 encoding&lt;/span&gt;
    &lt;span class="nx"&gt;_utf8_encode&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;string&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nx"&gt;string&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sr"&gt;/\r\n/g&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;utftext&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;n&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="nx"&gt;n&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="nx"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;length&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="nx"&gt;n&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;

            &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;string&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;charCodeAt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;n&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;c&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;128&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="nx"&gt;utftext&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="nb"&gt;String&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;fromCharCode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;c&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
            &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nx"&gt;c&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;127&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;c&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;2048&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="nx"&gt;utftext&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="nb"&gt;String&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;fromCharCode&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nx"&gt;c&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;192&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="nx"&gt;utftext&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="nb"&gt;String&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;fromCharCode&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nx"&gt;c&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="mi"&gt;63&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;128&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
            &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="nx"&gt;utftext&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="nb"&gt;String&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;fromCharCode&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nx"&gt;c&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;224&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="nx"&gt;utftext&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="nb"&gt;String&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;fromCharCode&lt;/span&gt;&lt;span class="p"&gt;(((&lt;/span&gt;&lt;span class="nx"&gt;c&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="mi"&gt;63&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;128&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="nx"&gt;utftext&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="nb"&gt;String&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;fromCharCode&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nx"&gt;c&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="mi"&gt;63&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;128&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nx"&gt;utftext&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;},&lt;/span&gt;

    &lt;span class="c1"&gt;// private method for UTF-8 decoding&lt;/span&gt;
    &lt;span class="nx"&gt;_utf8_decode&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;utftext&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;string&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;c1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;c2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="nx"&gt;i&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="nx"&gt;utftext&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;length&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;

            &lt;span class="nx"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;utftext&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;charCodeAt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;i&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;c&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;128&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="nx"&gt;string&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="nb"&gt;String&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;fromCharCode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;c&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="nx"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
            &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nx"&gt;c&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;191&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;c&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;224&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="nx"&gt;c2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;utftext&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;charCodeAt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;i&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="nx"&gt;string&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="nb"&gt;String&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;fromCharCode&lt;/span&gt;&lt;span class="p"&gt;(((&lt;/span&gt;&lt;span class="nx"&gt;c&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="mi"&gt;31&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;c2&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="mi"&gt;63&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
                &lt;span class="nx"&gt;i&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
            &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="nx"&gt;c2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;utftext&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;charCodeAt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;i&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="nx"&gt;c3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;utftext&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;charCodeAt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;i&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="nx"&gt;string&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="nb"&gt;String&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;fromCharCode&lt;/span&gt;&lt;span class="p"&gt;(((&lt;/span&gt;&lt;span class="nx"&gt;c&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nx"&gt;c2&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="mi"&gt;63&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;c3&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="mi"&gt;63&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
                &lt;span class="nx"&gt;i&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nx"&gt;string&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="javascript"></category></entry><entry><title>Hyperlink a Google maps su tutte gli indirizzi (stradali) di un documento</title><link href="http://blog.gambuzzi.it/hyperlink-a-google-maps-su-tutte-gli-indirizzi-stradali-di-un-documento.html" rel="alternate"></link><updated>2010-11-23T01:45:00+01:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2010-11-23:hyperlink-a-google-maps-su-tutte-gli-indirizzi-stradali-di-un-documento.html</id><summary type="html">&lt;p&gt;Il codice è simile a quello che metter l'hyperlink alle mail, sempre da eseguire preferibilmente nell'evento OnLoad del BODY.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;body&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;innerHTML&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;body&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;innerHTML&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="sr"&gt;/((Via|viale|piazza|largo)[^+]*?\d+[^+]*?-[^+]*?\d{5}[^+]*?(Modena|Parma))/gi&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
    &lt;span class="s1"&gt;&amp;#39;&amp;lt;a href=&amp;quot;http://maps.google.it/maps?f=q&amp;amp;source=s_q&amp;amp;hl=it&amp;amp;geocode=&amp;amp;q=$1&amp;amp;ie=UTF8&amp;amp;hnear=$1&amp;amp;z=16&amp;amp;iwloc=A&amp;quot; target=&amp;quot;_blank&amp;quot;&amp;gt;$1&amp;lt;/a&amp;gt;&amp;#39;&lt;/span&gt;
&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;si aspetta una via ( o viale o piazza o largo o ... ) a modena o parma (altre località come vedete facilemente aggiungibili) nella forma:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;Via&lt;/span&gt; &lt;span class="p"&gt;...&lt;/span&gt; &lt;span class="mi"&gt;17&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;41122&lt;/span&gt; &lt;span class="n"&gt;MODENA&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Si aspetta quindi un cap di 5 cifre&lt;/p&gt;
&lt;p&gt;Se non si volesse il link su alcuni indirizzi basta non metter il - (meno) fra numero e cap, ma una virgola.&lt;/p&gt;</summary><category term="javascript"></category></entry><entry><title>Creare una array con tutte le immagini di una cartella</title><link href="http://blog.gambuzzi.it/creare-una-array-con-tutte-le-immagini-di-una-cartella.html" rel="alternate"></link><updated>2010-11-22T02:05:00+01:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2010-11-22:creare-una-array-con-tutte-le-immagini-di-una-cartella.html</id><summary type="html">&lt;p&gt;Per fare cio' dobbiamo avere la cartella che contiene le immagini listabile.&lt;/p&gt;
&lt;p&gt;Suppioniamo di avere una variabile Array globale chiamate &lt;code&gt;array_immagini&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="nx"&gt;loadImages&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;reimg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sr"&gt;/href\=\&amp;quot;(.+?\.(?:jpg|gif|png))\&amp;quot;/gi&lt;/span&gt;
    &lt;span class="nx"&gt;xmlhttp&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;GET&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;fld&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;?C=N;O=A&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nx"&gt;xmlhttp&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;onreadystatechange&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;xmlhttp&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;readyState&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;            
            &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;Array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;b&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;reimg&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;exec&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;xmlhttp&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;responseText&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nx"&gt;array_immagini&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;push&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;fld&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nx"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]);&lt;/span&gt;
                &lt;span class="p"&gt;}&lt;/span&gt;    
            &lt;span class="p"&gt;}&lt;/span&gt;
            &lt;span class="nx"&gt;loadedImg&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="nx"&gt;xmlhttp&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;send&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;"&lt;strong&gt;C=N;O=A&lt;/strong&gt;" ci dà l'elenco in ordine ascendente di nome.&lt;/p&gt;
&lt;p&gt;per avere l'oggetto &lt;code&gt;xmlhttp&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;xmlhttp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="cm"&gt;/*@cc_on @*/&lt;/span&gt;
&lt;span class="cm"&gt;/*@if (@_jscript_version &amp;gt;= 5)&lt;/span&gt;
&lt;span class="cm"&gt;  try {&lt;/span&gt;
&lt;span class="cm"&gt;  xmlhttp=new ActiveXObject(&amp;quot;Msxml2.XMLHTTP&amp;quot;);&lt;/span&gt;
&lt;span class="cm"&gt; } catch (e) {&lt;/span&gt;
&lt;span class="cm"&gt;  try {&lt;/span&gt;
&lt;span class="cm"&gt;    xmlhttp=new ActiveXObject(&amp;quot;Microsoft.XMLHTTP&amp;quot;);&lt;/span&gt;
&lt;span class="cm"&gt;  } catch (E) {&lt;/span&gt;
&lt;span class="cm"&gt;   xmlhttp=false;&lt;/span&gt;
&lt;span class="cm"&gt;  }&lt;/span&gt;
&lt;span class="cm"&gt; }&lt;/span&gt;
&lt;span class="cm"&gt;@else&lt;/span&gt;
&lt;span class="cm"&gt; xmlhttp=false&lt;/span&gt;
&lt;span class="cm"&gt; @end @*/&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="nx"&gt;xmlhttp&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="k"&gt;typeof&lt;/span&gt; &lt;span class="nx"&gt;XMLHttpRequest&lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;undefined&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nx"&gt;xmlhttp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;XMLHttpRequest&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;catch&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;e&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nx"&gt;xmlhttp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="nx"&gt;xmlhttp&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;createRequest&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nx"&gt;xmlhttp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;createRequest&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;catch&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;e&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nx"&gt;xmlhttp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;Nota&lt;/strong&gt; bene che quello in testa non è un commento eliminabile ma di una direttiva di compilazione condizionata ed è quindi da lasciare.&lt;/p&gt;</summary><category term="javascript"></category></entry><entry><title>Settare le trasparenze di un oggetto</title><link href="http://blog.gambuzzi.it/settare-le-trasparenze-di-un-oggetto.html" rel="alternate"></link><updated>2010-11-22T01:58:00+01:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2010-11-22:settare-le-trasparenze-di-un-oggetto.html</id><summary type="html">&lt;p&gt;Questo è incredibilmente supportato anche da IE6.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;b&lt;/code&gt; contiene la trasparenza nella scala 0-&amp;gt;100&lt;/p&gt;
&lt;p&gt;Il seguente metodo conviene se si vogliono settare anche altri paramentri di stile nel contempo&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot; filter: alpha(opacity=&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nx"&gt;b&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;); opacity: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;b&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;100.0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;; -ms-filter: &amp;#39;alpha(opacity=&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nx"&gt;b&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;)&amp;#39;;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nx"&gt;element&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;setAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;style&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;text&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nx"&gt;element&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;style&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;cssText&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;text&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Questo altro opera sulle singole proprietà&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;element&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;style&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;opacity&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;b&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;100.0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nx"&gt;element&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;style&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;MozOpacity&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;b&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;100.0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nx"&gt;element&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;style&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;filter&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;filter: alpha(opacity=&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nx"&gt;b&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="javascript"></category></entry><entry><title>Animare un singolo valore</title><link href="http://blog.gambuzzi.it/animare-un-singolo-valore.html" rel="alternate"></link><updated>2010-11-22T01:49:00+01:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2010-11-22:animare-un-singolo-valore.html</id><summary type="html">&lt;p&gt;Con questo script si puo animere un singolo valore di un oggetto preso per id. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="nx"&gt;animateSingleVal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;cosa&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;unita&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;tempo&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;callback&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;cosa&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="nx"&gt;da&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;parseInt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;eval&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;cosa&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;isNaN&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;da&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="nx"&gt;da&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;tempo&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="mi"&gt;40&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;        
        &lt;span class="nx"&gt;newda&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;da&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nx"&gt;a&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;da&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;40&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="nx"&gt;tempo&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;  
        &lt;span class="nb"&gt;eval&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;cosa&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; = &amp;quot;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nb"&gt;parseInt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;newda&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nx"&gt;unita&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="nx"&gt;cmd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;animateSingleVal(&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nx"&gt;cosa&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;quot;,&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nx"&gt;a&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;,&amp;#39;&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nx"&gt;unita&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;#39;,&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;tempo&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;40&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;,&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nx"&gt;callback&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;);&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="nx"&gt;setTimeout&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;cmd&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;40&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nb"&gt;eval&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;cosa&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; = &amp;quot;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nb"&gt;parseInt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nx"&gt;unita&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;callback&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="nx"&gt;callback&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;l'utilizzo tipico è &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="nx"&gt;imaOver&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;nome&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nx"&gt;animateSingleVal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;document.getElementById(&amp;#39;&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nx"&gt;nome&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;#39;).style.width&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;160&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;px&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;250&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;parametri:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;cosa&lt;/code&gt;: è il valore da modificare&lt;/li&gt;
&lt;li&gt;&lt;code&gt;a&lt;/code&gt; : è il valore a cui arrivare con l'animazione&lt;/li&gt;
&lt;li&gt;&lt;code&gt;unita&lt;/code&gt;: è il tipo di unita del valore da impostare&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tempo&lt;/code&gt;: è il tempo in millisecondi da impiegare per arrivarvi&lt;/li&gt;
&lt;li&gt;&lt;code&gt;callback&lt;/code&gt;: è una funzione da chiamare ad animazione eseguita&lt;/li&gt;
&lt;/ul&gt;</summary><category term="javascript"></category></entry><entry><title>Ispezionare un oggetto javascript (var_dump)</title><link href="http://blog.gambuzzi.it/ispezionare-un-oggetto-javascript-var_dump.html" rel="alternate"></link><updated>2010-11-22T01:48:00+01:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2010-11-22:ispezionare-un-oggetto-javascript-var_dump.html</id><summary type="html">&lt;p&gt;Ecco qualcosa di utile e vagamente simile al var_dump del PHP&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="nx"&gt;inspect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;maxLevels&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;level&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;str&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;type&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;msg&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="c1"&gt;// Start Input Validations&lt;/span&gt;
    &lt;span class="c1"&gt;// Don&amp;#39;t touch, we start iterating at level zero&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;level&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="nx"&gt;level&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="c1"&gt;// At least you want to show the first level&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;maxLevels&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="nx"&gt;maxLevels&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;maxLevels&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;     
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;font color=&amp;quot;red&amp;quot;&amp;gt;Error: Levels number must be &amp;gt; 0&amp;lt;/font&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="c1"&gt;// We start with a non null object&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;font color=&amp;quot;red&amp;quot;&amp;gt;Error: Object &amp;lt;b&amp;gt;NULL&amp;lt;/b&amp;gt;&amp;lt;/font&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="c1"&gt;// End Input Validations&lt;/span&gt;

    &lt;span class="c1"&gt;// Each Iteration must be indented&lt;/span&gt;
    &lt;span class="nx"&gt;str&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;ul&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="c1"&gt;// Start iterations for all objects in obj&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;property&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="nx"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="k"&gt;try&lt;/span&gt;
      &lt;span class="p"&gt;{&lt;/span&gt;
          &lt;span class="c1"&gt;// Show &amp;quot;property&amp;quot; and &amp;quot;type property&amp;quot;&lt;/span&gt;
          &lt;span class="nx"&gt;type&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;  &lt;span class="k"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;property&lt;/span&gt;&lt;span class="p"&gt;]);&lt;/span&gt;
          &lt;span class="nx"&gt;str&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;li&amp;gt;(&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nx"&gt;type&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;) &amp;#39;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nx"&gt;property&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 
                 &lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;property&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;: &amp;lt;b&amp;gt;null&amp;lt;/b&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;/li&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

          &lt;span class="c1"&gt;// We keep iterating if this property is an Object, non null&lt;/span&gt;
          &lt;span class="c1"&gt;// and we are inside the required number of levels&lt;/span&gt;
          &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nx"&gt;type&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;object&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;property&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;level&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="nx"&gt;maxLevels&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
          &lt;span class="nx"&gt;str&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="nx"&gt;inspect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;property&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="nx"&gt;maxLevels&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;level&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
      &lt;span class="p"&gt;}&lt;/span&gt;
      &lt;span class="k"&gt;catch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;err&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="c1"&gt;// Is there some properties in obj we can&amp;#39;t access? Print it red.&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;err&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="nx"&gt;msg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;err&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;err&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;message&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;        &lt;span class="nx"&gt;msg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;err&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;message&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;err&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;description&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;    &lt;span class="nx"&gt;msg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;err&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;description&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;                        &lt;span class="nx"&gt;msg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Unknown&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="nx"&gt;str&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;li&amp;gt;&amp;lt;font color=&amp;quot;red&amp;quot;&amp;gt;(Error) &amp;#39;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nx"&gt;property&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;: &amp;#39;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nx"&gt;msg&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;lt;/font&amp;gt;&amp;lt;/li&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
      &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

      &lt;span class="c1"&gt;// Close indent&lt;/span&gt;
      &lt;span class="nx"&gt;str&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;/ul&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nx"&gt;str&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="javascript"></category></entry><entry><title>Posizione in pixel di un oggetto</title><link href="http://blog.gambuzzi.it/posizione-in-pixel-di-un-oggetto.html" rel="alternate"></link><updated>2010-11-22T01:45:00+01:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2010-11-22:posizione-in-pixel-di-un-oggetto.html</id><summary type="html">&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="nx"&gt;findPos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;curleft&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;curtop&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;offsetParent&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="nx"&gt;curleft&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="nx"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;offsetLeft&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="nx"&gt;curtop&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="nx"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;offsetTop&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;offsetParent&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="c1"&gt;// l&amp;#39;=&amp;#39; non è un errore, serve ad aggiornare obj e testarlo in un unico colpo&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;curleft&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nx"&gt;curtop&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="javascript"></category></entry><entry><title>Nascondere un utente dalla schermata di login di windows XP</title><link href="http://blog.gambuzzi.it/nascondere-un-utente-dalla-schermata-di-login-di-windows-xp.html" rel="alternate"></link><updated>2010-10-06T02:51:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2010-10-06:nascondere-un-utente-dalla-schermata-di-login-di-windows-xp.html</id><summary type="html">&lt;p&gt;Andare alla seguente chiave di registro&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\Winlogon\SpecialAccounts\UserList
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Sotto a questa chiave create un nuovo valore &lt;code&gt;DWORD&lt;/code&gt; col nome corrispondente all'utente da nascondere e settatene il valore a:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="m"&gt;0&lt;/span&gt; – Nasconde l&amp;#39;utente
&lt;span class="m"&gt;1&lt;/span&gt; – Mostra l&amp;#39;utente
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;In alternativa da linea di comando...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;REG ADD &lt;span class="s2"&gt;&amp;quot;HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon\SpecialAccounts\UserList&amp;quot;&lt;/span&gt; &lt;span class="n"&gt;/v&lt;/span&gt; &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;user&lt;/span&gt;&amp;gt; &lt;span class="n"&gt;/d&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="n"&gt;/t&lt;/span&gt; REG_DWORD &lt;span class="n"&gt;/f&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;ATTENZIONE&lt;/strong&gt;: questa è una procedura che puo rendervi impossible l'accesso al PC. Declino ogni responzabilità.&lt;/p&gt;</summary><category term="windows"></category><category term="batch"></category></entry><entry><title>Problemi di accesso a file via rete con Database (chiamiamoli così) COBOL o BDE</title><link href="http://blog.gambuzzi.it/problemi-di-accesso-a-file-via-rete-con-database-chiamiamoli-cosi-cobol-o-bde.html" rel="alternate"></link><updated>2010-07-09T07:26:00+02:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2010-07-09:problemi-di-accesso-a-file-via-rete-con-database-chiamiamoli-cosi-cobol-o-bde.html</id><summary type="html">&lt;p&gt;Il problema è altresì noto come &lt;em&gt;Opportunistic lock&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;E' un problema di accesso al file. Alcune tecniche impiegate per velocizzare questi accessi si rivelano controproduttive con tecniche di accesso ai file di vecchio stampo.&lt;/p&gt;
&lt;p&gt;La soluzione sta nel disattivare questi '&lt;em&gt;miglioramenti&lt;/em&gt;'. Per fare cio inserire nel registro la chiave allegata sia sui Cliente che sul Server dati.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://support.microsoft.com/kb/296264"&gt;http://support.microsoft.com/kb/296264&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://blog.gambuzzi.it/extras/oplock.reg"&gt;allegato&lt;/a&gt;&lt;/p&gt;</summary><category term="windows"></category><category term="db"></category></entry><entry><title>Ridistribuire programmi python come un unico file exe</title><link href="http://blog.gambuzzi.it/ridistribuire-programmi-python-come-un-unico-file-exe.html" rel="alternate"></link><updated>2009-12-12T14:12:00+01:00</updated><author><name>Roberto Gambuzzi</name></author><id>tag:blog.gambuzzi.it,2009-12-12:ridistribuire-programmi-python-come-un-unico-file-exe.html</id><summary type="html">&lt;p&gt;Cominciamo col presentare uno script che permette di ridistribuire i nostri programmi python a chi non abbia installato l'interprete.&lt;/p&gt;
&lt;p&gt;Necessitiamo di py2exe installato e del NullSoft Installer.&lt;/p&gt;
&lt;p&gt;Questo script è stato preso dal sito del py2exe e poi largamente rimaneggiato.&lt;/p&gt;
&lt;p&gt;Il file va salvato con lo stesso nome dello script python da impacchettare e con estensione BAT o CMD, percui se devo ridistribuire palla.py questo script andrebbe salvato come palla.cmd o palla.bat&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;@echo off

set PythonEXE=C:\Python25\python.exe
set NsisEXE=C:\Programmi\NSIS\makensisw.exe

if not exist %~dpn0.py          call :FileNotFound %~dpn0.py
if not exist %PythonEXE%        call :FileNotFound %PythonEXE%
if not exist %NsisEXE%          call :FileNotFound %NsisEXE%

call :MakeSetupFile &amp;gt;&amp;quot;%~dpn0_EXESetup.py&amp;quot;

%PythonEXE% &amp;quot;%~dpn0_EXESetup.py&amp;quot; py2exe
if not &amp;quot;%errorlevel%&amp;quot;==&amp;quot;0&amp;quot; (
        echo Py2EXE Error!
        pause
        goto:eof
)

del &amp;quot;%~dpn0_EXESetup.py&amp;quot;

rd build /s /q
xcopy dist\*.* &amp;quot;%~dpn0_EXE\&amp;quot; /d /y
rd dist /s /q

echo.
echo.
echo Done: &amp;quot;%~dpn0_EXE\&amp;quot;
echo.

::Create Exe MonoFile
call :MakeNSISFile &amp;gt;&amp;quot;%~dpn0_NSIS.nsi&amp;quot;
%NsisEXE% &amp;quot;%~dpn0_NSIS.nsi&amp;quot;
del &amp;quot;%~dpn0_NSIS.nsi&amp;quot;

pause
goto:eof

:MakeSetupFile
        echo.
        echo from distutils.core import setup
        echo import py2exe
        echo.
        echo setup (console=[r&amp;quot;%~dpn0.py&amp;quot;],
        echo    options = {&amp;quot;py2exe&amp;quot;: {&amp;quot;packages&amp;quot;: [&amp;quot;encodings&amp;quot;]}})
        echo.
goto:eof


:MakeNSISFile
        echo.
        echo !include &amp;quot;FileFunc.nsh&amp;quot;
        echo !insertmacro GetParameters
        echo !define exe &amp;#39;%~n0&amp;#39;
        echo.
        echo SetCompressor lzma
        echo Name &lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;exe&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;.exe
        echo OutFile &lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;exe&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;.exe
        echo SilentInstall silent
        echo.
        echo Section
        echo InitPluginsDir
        echo SetOutPath &amp;#39;&lt;span class="nv"&gt;$PLUGINSDIR&lt;/span&gt;&amp;#39;
        echo File &amp;#39;&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;exe&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;_EXE\*.*&amp;#39;
        echo.
        echo SetOutPath &amp;#39;&lt;span class="nv"&gt;$EXEDIR&lt;/span&gt;&amp;#39;
        echo &lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;GetParameters&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt; &lt;span class="nv"&gt;$R0&lt;/span&gt;
        echo.
        echo ExecWait &amp;#39;&amp;quot;&lt;span class="nv"&gt;$PLUGINSDIR&lt;/span&gt;\&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;exe&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;&amp;quot; &lt;span class="nv"&gt;$R0&lt;/span&gt;&amp;#39; 
        echo.
        echo SectionEnd
        echo.
goto:eof

:FileNotFound
        echo.
        echo Error, File not found:
        echo [%1]
        echo.
        echo Check Path in %~nx0???
        echo.
        pause
        exit
goto:eof
&lt;/pre&gt;&lt;/div&gt;</summary><category term="python"></category><category term="batch"></category></entry></feed>